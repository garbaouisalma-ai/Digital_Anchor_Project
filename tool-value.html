<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø£Ø¯Ø§Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬ÙˆÙ‡Ø±ÙŠØ© | Ø§Ù„Ù…Ø±Ø³Ø§Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { 'anchor-blue': '#1a202c', 'anchor-gold': '#ffd700' },
                    fontFamily: { sans: ['Tajawal', 'sans-serif'] },
                    animation: { 'fade-in-up': 'fadeInUp 0.5s ease-out' },
                    keyframes: { fadeInUp: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } } }
                }
            }
        }
    </script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>body { background-color: #f8fafc; }</style>
</head>
<body class="bg-slate-50 text-slate-900 font-sans">
    <div id="root"></div>
    <script type="text/babel">
        const { useState, useEffect, createContext, useContext } = React;

        // --- 1. Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„ØªØ±Ø¬Ù…Ø© ---
        const translations = {
            'site-logo': { ar: 'Ø§Ù„Ù…Ø±Ø³Ø§Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©', en: 'Digital Anchor', fr: 'Ancre NumÃ©rique' },
            'nav-home': { ar: 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', en: 'Home', fr: 'Accueil' },
            'nav-guide': { ar: 'Ø§Ù„Ø¯Ù„ÙŠÙ„', en: 'Guide', fr: 'Guide' },
            'nav-resources': { ar: 'Ø§Ù„Ù…ÙˆØ§Ø±Ø¯', en: 'Resources', fr: 'Ressources' },
            'nav-members': { ar: 'Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡', en: 'Members', fr: 'Membres' },
            'nav-buy': { ar: 'Ø§Ø­Ø¬Ø² Ù†Ø³Ø®ØªÙƒ', en: 'Pre-order', fr: 'PrÃ©commander' },
            
            'tool-title': { ar: 'ðŸ’Ž Ø¨ÙˆØµÙ„Ø© Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø´Ø®ØµÙŠØ©', en: 'ðŸ’Ž Personal Values Compass', fr: 'ðŸ’Ž Boussole des Valeurs' },
            'tool-desc': { ar: 'Ø§Ø®ØªØ± Ø£Ù‡Ù… 3 Ù‚ÙŠÙ… ØªØ¹Ø¨Ø± Ø¹Ù†Ùƒ Ù„ØªØ¨Ù†ÙŠ Ø¹Ù„ÙŠÙ‡Ø§ Ø®Ø·ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©.', en: 'Select the top 3 values that represent you to build your digital plan.', fr: 'SÃ©lectionnez les 3 valeurs principales.' },
            
            // Ø§Ù„Ù‚ÙŠÙ…
            'val-focus': { ar: 'Ø§Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¹Ù…ÙŠÙ‚', en: 'Focus & Deep Work', fr: 'Concentration' },
            'val-integrity': { ar: 'Ø§Ù„Ù†Ø²Ø§Ù‡Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©', en: 'Digital Integrity', fr: 'IntÃ©gritÃ© NumÃ©rique' },
            'val-achievement': { ar: 'Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø¹Ù…Ù„ÙŠ', en: 'Practical Achievement', fr: 'RÃ©alisation Pratique' },
            'val-awareness': { ar: 'Ø§Ù„ØªØ£Ù…Ù„ ÙˆØ§Ù„ÙˆØ¹ÙŠ Ø§Ù„Ø°Ø§ØªÙŠ', en: 'Reflection & Awareness', fr: 'RÃ©flexion & Conscience' },
            'val-health': { ar: 'Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø°Ø§Øª', en: 'Health & Self', fr: 'SantÃ© et Soi' },
            'val-connection': { ar: 'Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„ÙØ¹Ø§Ù„', en: 'Effective Connection', fr: 'Connexion Efficace' },
            'val-creativity': { ar: 'Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹', en: 'Creativity', fr: 'CrÃ©ativitÃ©' },
            'val-calm': { ar: 'Ø§Ù„Ù‡Ø¯ÙˆØ¡ Ø§Ù„Ù†ÙØ³ÙŠ', en: 'Inner Calm', fr: 'Calme IntÃ©rieur' },
            'val-learning': { ar: 'Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø±', en: 'Continuous Learning', fr: 'Apprentissage Continu' },

            'status-selected': { ar: 'ØªÙ… Ø§Ø®ØªÙŠØ§Ø±', en: 'Selected', fr: 'SÃ©lectionnÃ©' },
            'status-limit': { ar: 'Ù…Ù† 3', en: 'of 3', fr: 'sur 3' },
            'btn-analyze': { ar: 'ØªØ­Ù„ÙŠÙ„ Ù‚ÙŠÙ…ÙŠ', en: 'Analyze My Values', fr: 'Analyser Mes Valeurs' },
            
            'result-title': { ar: 'Ù‚ÙŠÙ…Ùƒ Ø§Ù„Ø¬ÙˆÙ‡Ø±ÙŠØ© Ù‡ÙŠ:', en: 'Your Core Values Are:', fr: 'Vos Valeurs Fondamentales :' },
            'result-msg': { ar: 'Ø±Ø§Ø¦Ø¹! Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… Ù‡ÙŠ Ø¨ÙˆØµÙ„ØªÙƒ. Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù‡ÙŠ Ø­Ù…Ø§ÙŠØ© Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø¹Ø§Ù„Ù…Ùƒ Ø§Ù„Ø±Ù‚Ù…ÙŠ.', en: 'Great! These values are your compass. Next step is to protect them.', fr: 'Super! Ces valeurs sont votre boussole.' },
            'btn-covenant': { ar: 'ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ø¹Ù‡Ø¯', en: 'Sign the Pledge', fr: 'Signer l\'Engagement' },
            'btn-reset': { ar: 'Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±', en: 'Reset', fr: 'RÃ©initialiser' },
            
            'footer-copy': { ar: 'Â© 2025 Ø§Ù„Ù…Ø±Ø³Ø§Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ© - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©', en: 'Â© 2025 Digital Anchor - All Rights Reserved', fr: 'Â© 2025 Digital Anchor - Tous droits rÃ©servÃ©s' }
        };

        // --- 2. Ù†Ø¸Ø§Ù… Ø§Ù„Ù„ØºØ© ---
        const LanguageContext = createContext();
        const LanguageProvider = ({ children }) => {
            const [lang, setLang] = useState(localStorage.getItem('lang') || 'ar');
            useEffect(() => {
                localStorage.setItem('lang', lang);
                document.documentElement.lang = lang;
                document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            }, [lang]);
            const t = (key) => translations[key]?.[lang] || key;
            return <LanguageContext.Provider value={{ lang, setLang, t }}>{children}</LanguageContext.Provider>;
        };

        // --- 3. Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª ---
        const Navbar = () => {
            const { t, lang, setLang } = useContext(LanguageContext);
            return (
                <nav className="bg-anchor-blue text-white py-4 px-6 sticky top-0 z-50 shadow-md backdrop-blur-md bg-opacity-95">
                    <div className="max-w-7xl mx-auto flex justify-between items-center">
                        <a href="index.html" className="flex items-center gap-3 group">
                            <img src="Digital Anchor.png" alt="Logo" className="h-10 w-auto transition-transform group-hover:scale-110" />
                            <span className="font-bold text-lg hidden md:block">{t('site-logo')}</span>
                        </a>
                        <div className="flex gap-4 md:gap-6 text-sm font-medium items-center">
                            <a href="index.html" className="hover:text-anchor-gold transition">{t('nav-home')}</a>
                            <a href="guide.html" className="hover:text-anchor-gold transition hidden sm:block">{t('nav-guide')}</a>
                            
                            <select value={lang} onChange={(e) => setLang(e.target.value)} className="bg-gray-700 text-white border border-gray-600 rounded p-1 text-xs">
                                <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                                <option value="en">English</option>
                                <option value="fr">FranÃ§ais</option>
                            </select>

                            <a href="book-preorder.html" className="bg-anchor-gold text-anchor-blue px-4 py-2 rounded-full font-bold hover:bg-yellow-400 transition transform hover:scale-105 text-xs md:text-sm">
                                {t('nav-buy')}
                            </a>
                        </div>
                    </div>
                </nav>
            );
        };

        const ValueTool = () => {
            const { t } = useContext(LanguageContext);
            const [selectedValues, setSelectedValues] = useState([]);
            const [showResult, setShowResult] = useState(false);

            // Ù…ÙØ§ØªÙŠØ­ Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø§Ù„Ù‚Ø§Ù…ÙˆØ³
            const valuesList = [
                'val-focus', 'val-integrity', 'val-achievement',
                'val-awareness', 'val-health', 'val-connection',
                'val-creativity', 'val-calm', 'val-learning'
            ];

            const toggleValue = (valueKey) => {
                if (selectedValues.includes(valueKey)) {
                    setSelectedValues(selectedValues.filter(v => v !== valueKey));
                } else {
                    if (selectedValues.length < 3) setSelectedValues([...selectedValues, valueKey]);
                }
            };

            return (
                <div className="min-h-screen flex flex-col">
                    <Navbar />
                    <main className="max-w-3xl mx-auto px-6 py-12 flex-grow w-full">
                        <div className="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
                            <header className="text-center mb-10">
                                <h1 className="text-3xl font-bold text-anchor-blue mb-3">{t('tool-title')}</h1>
                                <p className="text-gray-600">{t('tool-desc')}</p>
                            </header>

                            {!showResult ? (
                                <div className="space-y-8 animate-fade-in-up">
                                    <div className="grid md:grid-cols-2 gap-4">
                                        {valuesList.map((valKey, idx) => (
                                            <button 
                                                key={idx} 
                                                onClick={() => toggleValue(valKey)} 
                                                className={`p-4 rounded-xl border-2 text-right transition-all flex justify-between items-center ${selectedValues.includes(valKey) ? 'border-anchor-gold bg-yellow-50 text-anchor-blue font-bold shadow-md transform scale-105' : 'border-gray-100 hover:border-gray-300 text-gray-600 hover:bg-gray-50'}`}
                                            >
                                                {t(valKey)}
                                                {selectedValues.includes(valKey) && <span className="text-green-600 text-xl">âœ“</span>}
                                            </button>
                                        ))}
                                    </div>
                                    <div className="text-center">
                                        <p className={`text-sm mb-4 ${selectedValues.length === 3 ? 'text-green-600 font-bold' : 'text-gray-500'}`}>
                                            {t('status-selected')} {selectedValues.length} {t('status-limit')}
                                        </p>
                                        <button 
                                            onClick={() => setShowResult(true)} 
                                            disabled={selectedValues.length !== 3} 
                                            className={`px-10 py-3 rounded-xl font-bold text-lg transition-all ${selectedValues.length === 3 ? 'bg-anchor-blue text-white hover:bg-gray-800 shadow-lg hover:shadow-xl transform hover:-translate-y-1' : 'bg-gray-200 text-gray-400 cursor-not-allowed'}`}
                                        >
                                            {t('btn-analyze')}
                                        </button>
                                    </div>
                                </div>
                            ) : (
                                <div className="text-center animate-fade-in-up">
                                    <div className="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 text-3xl shadow-inner">ðŸŽ¯</div>
                                    <h2 className="text-2xl font-bold text-anchor-blue mb-6">{t('result-title')}</h2>
                                    <div className="flex flex-wrap justify-center gap-3 mb-8">
                                        {selectedValues.map((valKey, idx) => (
                                            <span key={idx} className="bg-anchor-gold text-anchor-blue px-6 py-2 rounded-full font-bold shadow-sm border border-yellow-400">
                                                {t(valKey)}
                                            </span>
                                        ))}
                                    </div>
                                    <div className="bg-blue-50 p-6 rounded-xl border border-blue-100 mb-8">
                                        <p className="text-gray-700 leading-relaxed font-medium">{t('result-msg')}</p>
                                    </div>
                                    <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                        <a href="covenant.html" className="bg-anchor-blue text-white px-8 py-3 rounded-lg font-bold hover:bg-gray-800 transition shadow-md">
                                            {t('btn-covenant')}
                                        </a>
                                        <button onClick={() => { setShowResult(false); setSelectedValues([]); }} className="text-gray-500 hover:text-anchor-blue underline">
                                            {t('btn-reset')}
                                        </button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </main>
                    <footer className="bg-anchor-blue text-slate-400 py-6 text-center text-sm mt-auto">
                        {t('footer-copy')}
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<LanguageProvider><ValueTool /></LanguageProvider>);
    </script>
</body>
</html>