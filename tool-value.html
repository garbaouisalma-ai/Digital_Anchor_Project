<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-key="lab_page_title">Ø£Ø¯Ø§Ø© ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚ÙŠÙ… | Ø§Ù„Ù…Ø±Ø³Ø§Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</title>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        body { font-family: 'Tajawal', sans-serif; background-color: #f8fafc; }
        .anchor-blue { background-color: #0f172a; }
        .anchor-gold { background-color: #d4af37; }
    </style>
</head>
<body class="text-slate-900 font-sans flex flex-col min-h-screen">
    <div id="root" class="flex flex-col min-h-screen"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Navbar (ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ÙƒØªØ§Ø¨ØªÙ‡ ÙƒÙ€ React Component Ù„ÙŠØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„ØµÙØ­Ø©)
        const Navbar = ({ translations, setLanguage, convertCurrency }) => {
            useEffect(() => {
                // ØªÙØ¹ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (Ù†Ø­ØªØ§Ø¬ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø£ØµÙ„ÙŠ Ù„Ù€ JS ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„)
                const menuBtn = document.getElementById('mobile-menu-btn');
                const mobileMenu = document.getElementById('mobile-menu');
                if (menuBtn && mobileMenu) {
                    menuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
                }
            }, []);

            return (
                <nav className="bg-white shadow-lg sticky top-0 z-50">
                    <div className="container mx-auto px-4 py-3 flex justify-between items-center">
                        <a href="index.html" className="flex items-center space-x-3 space-x-reverse">
                            <img src="logo.png" width="45" className="rounded-lg shadow-sm" alt="Logo" />
                            <h1 className="text-xl font-bold text-gray-900" data-key="site_name">{translations.ar.site_name}</h1>
                        </a>
                        
                        <div className="hidden md:flex items-center gap-5">
                            <a href="index.html" className="font-bold text-gray-600 hover:text-blue-900 text-sm" data-key="nav_home">{translations.ar.nav_home}</a>

                            <select id="lang-select" onChange={(e) => setLanguage(e.target.value)} className="text-xs border border-gray-300 rounded p-1 bg-white focus:outline-none focus:border-blue-500">
                                <option value="ar">Ø¹Ø±Ø¨ÙŠ</option><option value="en">English</option><option value="fr">FranÃ§ais</option><option value="de">Deutsch</option>
                            </select>
                            <select id="curr-select" onChange={(e) => convertCurrency(e.target.value)} className="text-xs border border-gray-300 rounded p-1 bg-white font-bold text-blue-900 focus:outline-none focus:border-blue-500">
                                <option value="SAR">SAR (Ø±.Ø³)</option><option value="USD">USD ($)</option><option value="EUR">EUR (â‚¬)</option>
                            </select>

                            <a href="buy.html" className="bg-anchor-blue text-white px-6 py-2 rounded-lg text-sm font-bold shadow-md flex items-center gap-2 no-underline" data-key="nav_join">
                                <i className="fas fa-shopping-cart"></i> {translations.ar.nav_join}
                            </a>
                        </div>
                        
                        <button id="mobile-menu-btn" className="md:hidden text-gray-800 p-2"><i className="fas fa-bars text-xl"></i></button>
                    </div>

                    <div id="mobile-menu" className="hidden">
                        {/* Mobile Menu Links here (Simplified) */}
                    </div>
                </nav>
            );
        };

        const ValueTool = ({ translations, setLanguage, convertCurrency }) => {
            const [selectedValues, setSelectedValues] = useState([]);
            const [showResult, setShowResult] = useState(false);

            const valuesList = [
                "Ø§Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¹Ù…ÙŠÙ‚", "Ø§Ù„Ù†Ø²Ø§Ù‡Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©", "Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø¹Ù…Ù„ÙŠ",
                "Ø§Ù„ØªØ£Ù…Ù„ ÙˆØ§Ù„ÙˆØ¹ÙŠ Ø§Ù„Ø°Ø§ØªÙŠ", "Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„Ø°Ø§Øª", "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„ÙØ¹Ø§Ù„",
                "Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹", "Ø§Ù„Ù‡Ø¯ÙˆØ¡ Ø§Ù„Ù†ÙØ³ÙŠ", "Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø±"
            ];
            
            const maxSelection = 3;

            const toggleValue = (value) => {
                if (selectedValues.includes(value)) {
                    setSelectedValues(selectedValues.filter(v => v !== value));
                } else {
                    if (selectedValues.length < maxSelection) setSelectedValues([...selectedValues, value]);
                }
            };

            return (
                <div className="min-h-screen flex flex-col">
                    <Navbar translations={translations} setLanguage={setLanguage} convertCurrency={convertCurrency} />
                    
                    <main className="max-w-3xl mx-auto px-6 py-12 flex-grow w-full">
                        <div className="bg-white rounded-2xl shadow-xl p-8 border border-gray-100">
                            <header className="text-center mb-10">
                                <h1 className="text-3xl font-bold text-anchor-blue mb-3">ğŸ’ Ø¨ÙˆØµÙ„Ø© Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ø´Ø®ØµÙŠØ©</h1>
                                <p className="text-gray-600">Ø§Ø®ØªØ± Ø£Ù‡Ù… {maxSelection} Ù‚ÙŠÙ… ØªØ¹Ø¨Ø± Ø¹Ù†Ùƒ Ù„ØªØ¨Ù†ÙŠ Ø¹Ù„ÙŠÙ‡Ø§ Ø®Ø·ØªÙƒ Ø§Ù„Ø±Ù‚Ù…ÙŠØ©.</p>
                            </header>

                            {!showResult ? (
                                <div className="space-y-8">
                                    <div className="grid md:grid-cols-2 gap-4">
                                        {valuesList.map((val, idx) => (
                                            <button key={idx} onClick={() => toggleValue(val)} disabled={selectedValues.length === maxSelection && !selectedValues.includes(val)} className={`p-4 rounded-xl border-2 text-right transition-all flex justify-between items-center ${selectedValues.includes(val) ? 'border-anchor-gold bg-yellow-50 text-anchor-blue font-bold shadow-md' : 'border-gray-100 hover:border-gray-300 text-gray-600'} ${selectedValues.length === maxSelection && !selectedValues.includes(val) ? 'opacity-50 cursor-not-allowed' : ''}`}>
                                                {val}
                                                {selectedValues.includes(val) && <span className="text-green-600"><i className="fas fa-check"></i></span>}
                                            </button>
                                        ))}
                                    </div>
                                    <div className="text-center">
                                        <p className={`text-sm mb-4 ${selectedValues.length === maxSelection ? 'text-green-600 font-bold' : 'text-gray-500'}`}>ØªÙ… Ø§Ø®ØªÙŠØ§Ø± {selectedValues.length} Ù…Ù† {maxSelection}</p>
                                        <button onClick={() => setShowResult(true)} disabled={selectedValues.length !== maxSelection} className={`px-10 py-3 rounded-xl font-bold text-lg transition-all ${selectedValues.length === maxSelection ? 'bg-anchor-blue text-white hover:bg-gray-800 shadow-lg' : 'bg-gray-200 text-gray-400 cursor-not-allowed'}`}>ØªØ­Ù„ÙŠÙ„ Ù‚ÙŠÙ…ÙŠ</button>
                                    </div>
                                </div>
                            ) : (
                                <div className="text-center animate-fade-in">
                                    <div className="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-6 text-3xl">ğŸ¯</div>
                                    <h2 className="text-2xl font-bold text-anchor-blue mb-6">Ù‚ÙŠÙ…Ùƒ Ø§Ù„Ø¬ÙˆÙ‡Ø±ÙŠØ© Ù‡ÙŠ:</h2>
                                    <div className="flex flex-wrap justify-center gap-3 mb-8">
                                        {selectedValues.map((val, idx) => (<span key={idx} className="bg-anchor-gold text-anchor-blue px-6 py-2 rounded-full font-bold shadow-sm">{val}</span>))}
                                    </div>
                                    <div className="bg-blue-50 p-6 rounded-xl border border-blue-100 mb-8">
                                        <p className="text-gray-700 leading-relaxed">Ø±Ø§Ø¦Ø¹! Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… Ù‡ÙŠ Ø¨ÙˆØµÙ„ØªÙƒ. Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù‡ÙŠ Ø­Ù…Ø§ÙŠØ© Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… ÙÙŠ Ø¹Ø§Ù„Ù…Ùƒ Ø§Ù„Ø±Ù‚Ù…ÙŠ.</p>
                                    </div>
                                    <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                        <a href="covenant.html" className="bg-anchor-blue text-white px-8 py-3 rounded-lg font-bold hover:bg-gray-800 transition">ØªÙˆÙ‚ÙŠØ¹ Ø§Ù„Ø¹Ù‡Ø¯</a>
                                        <button onClick={() => setShowResult(false)} className="text-gray-500 hover:text-anchor-blue underline">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±</button>
                                    </div>
                                </div>
                            )}
                        </div>
                    </main>
                    <footer className="bg-anchor-blue text-slate-400 py-6 text-center text-sm mt-auto">Â© 2025 Ø§Ù„Ù…Ø±Ø³Ø§Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</footer>
                </div>
            );
        };

        const RootComponent = () => {
             // Ø¯Ù…Ø¬ ÙƒÙˆØ¯ Ø§Ù„ØªØ±Ø¬Ù…Ø© ÙˆØ§Ù„Ù…Ù†Ø·Ù‚ Ù‡Ù†Ø§
            const translations = {
                'ar': { 'site_name': 'Ø§Ù„Ù…Ø±Ø³Ø§Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©', 'nav_home': 'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©', 'nav_join': 'Ø§Ø­Ø¬Ø² Ø§Ù„ÙƒØªØ§Ø¨' },
                'en': { 'site_name': 'Digital Anchor', 'nav_home': 'Home', 'nav_join': 'Order Book' }
            };
            const RATES = { 'SAR': { r: 1, s: 'SAR' }, 'USD': { r: 0.27, s: '$' }, 'EUR': { r: 0.25, s: 'â‚¬' } };
            
            // Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¹Ù…Ù„Ø© ÙˆØ§Ù„Ù„ØºØ© (Ù…Ø¨Ø³Ø·Ø© Ù‡Ù†Ø§)
            const convertCurrency = (curr) => { /* Logic here */ };
            const setLanguage = (lang) => { /* Logic here */ };

            useEffect(() => {
                 const defaultLang = 'ar'; // ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… localStorage.getItem('preferredLang') || 'ar';
                 setLanguage(defaultLang);
            }, []);

            return <ValueTool translations={translations} setLanguage={setLanguage} convertCurrency={convertCurrency} />;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<RootComponent />);
    </script>
</body>
</html>