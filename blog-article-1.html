<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قصص نجاح ملهمة | المرساة الرقمية</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { 
                        'anchor-blue': '#1a202c', 
                        'anchor-gold': '#ffd700',
                        'anchor-green': '#059669',
                        'anchor-purple': '#7c3aed'
                    },
                    fontFamily: { 
                        sans: ['Tajawal', 'sans-serif'], 
                        serif: ['Amiri', 'serif'] 
                    }
                }
            }
        }
    </script>
    
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body class="bg-slate-50 text-slate-900 font-sans">
    <div id="root"></div>
    <script type="text/babel">
        
        // ----------------------------------------------------
        // الكود المشترك للغة والعملة (Language/Currency Logic)
        // ----------------------------------------------------
        
        // 1. قاموس الترجمة
        const translations = {
            // العربية (افتراضي)
            ar: {
                'lang_ar': 'العربية', 'lang_en': 'English', 'lang_fr': 'Français',
                'curr_usd': 'USD', 'curr_eur': 'EUR', 'curr_sar': 'SAR',
                'home': 'الرئيسية',
                'stories_title': 'قصص النجاح الملهمة', 
                'covenant_title': 'عهد التحرر والقيادة', 
                'app_name': 'المرساة الرقمية',
                'guide': 'الدليل',
                'buy_book': 'الشراء',
                'footer-copy': '© 2025 المرساة الرقمية - "من أنت حين تنطفئ الشاشة؟". جميع الحقوق محفوظة.',
                'footer-email': 'شارك قصتك معنا:',
                'footer-covenant': 'عهد التحرر',
                'footer-resources': 'الموارد المجانية',
                'footer-preorder': 'طلب الكتاب',
            },
            // الإنجليزية
            en: {
                'lang_ar': 'Arabic', 'lang_en': 'English', 'lang_fr': 'French',
                'curr_usd': 'USD', 'curr_eur': 'EUR', 'curr_sar': 'SAR',
                'home': 'Home',
                'stories_title': 'Inspiring Success Stories',
                'covenant_title': 'Pledge of Liberation and Leadership',
                'app_name': 'Digital Anchor',
                'guide': 'Guide',
                'buy_book': 'Purchase',
                'footer-copy': '© 2025 Digital Anchor - "Who are you when the screen turns off?". All rights reserved.',
                'footer-email': 'Share your story with us:',
                'footer-covenant': 'Pledge of Liberation',
                'footer-resources': 'Free Resources',
                'footer-preorder': 'Order Book',
            },
            // الفرنسية
            fr: {
                'lang_ar': 'Arabe', 'lang_en': 'Anglais', 'lang_fr': 'Français',
                'curr_usd': 'USD', 'curr_eur': 'EUR', 'curr_sar': 'SAR',
                'home': 'Accueil',
                'stories_title': 'Histoires de Succès Inspirantes',
                'covenant_title': 'Engagement de Libération et de Leadership',
                'app_name': 'Ancre Numérique',
                'guide': 'Guide',
                'buy_book': 'Acheter',
                'footer-copy': '© 2025 Ancre Numérique - "Qui êtes-vous lorsque l\'écran s\'éteint?". Tous droits réservés.',
                'footer-email': 'Partagez votre histoire avec nous:',
                'footer-covenant': 'Engagement de Libération',
                'footer-resources': 'Ressources Gratuites',
                'footer-preorder': 'Commander Livre',
            },
        };

        // 2. مزود اللغة (Provider) والسياق (Context)
        const LanguageContext = React.createContext();

        const LanguageProvider = ({ children }) => {
            const [language, setLanguage] = React.useState('ar');
            const [currency, setCurrency] = React.useState('USD');
            const t = (key) => translations[language]?.[key] || key;

            React.useEffect(() => {
                document.documentElement.lang = language;
                document.documentElement.dir = language === 'ar' ? 'rtl' : 'ltr';
            }, [language]);

            return (
                <LanguageContext.Provider value={{ language, setLanguage, currency, setCurrency, t }}>
                    {children}
                </LanguageContext.Provider>
            );
        };

        // 3. الخطاف (Hook) للوصول إلى السياق
        const useTranslation = () => React.useContext(LanguageContext);

        // 4. مكون مبدل اللغة والعملة
        const LanguageCurrencySwitcher = () => {
            const { language, setLanguage, currency, setCurrency, t } = useTranslation();

            const handleLanguageChange = (e) => setLanguage(e.target.value);
            const handleCurrencyChange = (e) => setCurrency(e.target.value);

            return (
                <div className="flex items-center gap-3">
                    {/* القائمة المنسدلة للغة */}
                    <div className="relative text-white"> 
                        <select 
                            value={language} 
                            onChange={handleLanguageChange} 
                            className="appearance-none bg-anchor-blue border border-gray-600 rounded-lg py-1 pl-6 pr-3 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-anchor-gold cursor-pointer"
                        >
                            <option value="ar">{t('lang_ar')}</option>
                            <option value="en">{t('lang_en')}</option>
                            <option value="fr">{t('lang_fr')}</option>
                        </select>
                        {/* أيقونة السهم */}
                        <i className="fas fa-caret-down absolute top-1/2 right-2 transform -translate-y-1/2 pointer-events-none text-gray-400"></i>
                    </div>
                    
                    {/* القائمة المنسدلة للعملة */}
                    <div className="relative text-white">
                        <select 
                            value={currency} 
                            onChange={handleCurrencyChange} 
                            className="appearance-none bg-anchor-blue border border-gray-600 rounded-lg py-1 pl-6 pr-3 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-anchor-gold cursor-pointer"
                        >
                            <option value="USD">{t('curr_usd')}</option>
                            <option value="EUR">{t('curr_eur')}</option>
                            <option value="SAR">{t('curr_sar')}</option>
                        </select>
                        {/* أيقونة السهم */}
                        <i className="fas fa-caret-down absolute top-1/2 right-2 transform -translate-y-1/2 pointer-events-none text-gray-400"></i>
                    </div>
                </div>
            );
        };

        // ----------------------------------------------------
        // مكونات الصفحة
        // ----------------------------------------------------
        
        const { useState } = React;

        // Navbar المحدَّث لاستخدام الترجمة ومبدل اللغة
        const Navbar = () => {
            const { t } = useTranslation(); 
            return (
                <nav className="bg-anchor-blue text-white py-4 px-6 shadow-lg">
                    <div className="max-w-7xl mx-auto flex justify-between items-center">
                        <a href="index.html" className="flex items-center gap-3 group">
                            <div className="w-10 h-10 bg-gradient-to-r from-anchor-gold to-yellow-500 rounded-lg flex items-center justify-center transition-transform group-hover:scale-110">
                                <i className="fas fa-anchor text-white text-lg"></i>
                            </div>
                            <div>
                                <span className="font-bold text-lg hidden md:block">{t('app_name')}</span> 
                                <span className="text-xs text-slate-300 block">{t('stories_title')}</span>
                            </div>
                        </a>
                        
                        <div className="flex gap-4 md:gap-6 text-sm font-medium items-center">
                            <a href="index.html" className="hover:text-anchor-gold transition flex items-center gap-2">
                                <i className="fas fa-home"></i>
                                <span className="hidden md:inline">{t('home')}</span>
                            </a>
                            <a href="guide.html" className="hover:text-anchor-gold transition hidden sm:flex items-center gap-2">
                                <i className="fas fa-book-open"></i>
                                <span>{t('guide')}</span>
                            </a>
                            <a href="book-preorder.html" className="bg-anchor-gold text-anchor-blue px-5 py-2.5 rounded-full font-bold hover:bg-yellow-400 transition shadow-lg flex items-center gap-2">
                                <i className="fas fa-shopping-cart"></i>
                                <span>{t('buy_book')}</span>
                            </a>
                            
                            <LanguageCurrencySwitcher />
                        </div>
                    </div>
                </nav>
            );
        };

        const BlogPage2 = () => {
            const { t, currency } = useTranslation(); // استخدام t و currency
            
            // ... (بقية منطق الصفحة) ...
            
            return (
                <div className="min-h-screen flex flex-col">
                    <Navbar />
                    <main className="flex-grow max-w-5xl mx-auto p-6 lg:p-12">
                        <article className="bg-white p-6 md:p-10 rounded-2xl shadow-xl border border-gray-100">
                            <header className="mb-8 border-b pb-4 border-anchor-gold">
                                <h1 className="text-3xl font-bold text-anchor-blue mb-2">قصة نجاح: كيف استعادت سارة ساعاتها</h1>
                                <p className="text-gray-500 text-sm">نشر في 10 ديسمبر 2025 | بقلم المرساة الرقمية</p>
                            </header>
                            
                            <section className="prose prose-lg max-w-none text-right">
                                <p>هذه قصة سارة، التي كانت ضحية لدوامة وسائل التواصل الاجتماعي. كانت تقضي 8 ساعات يومياً في تصفح تطبيقات لا تضيف أي قيمة لحياتها. كان الشعور بالذنب والإرهاق هو سيد الموقف.</p>
                                
                                <h2>نقطة التحول: اكتشاف القيمة</h2>
                                <p>عندما قررت سارة تطبيق مبادئ المرساة الرقمية، بدأت بأداة تحديد القيمة الجوهرية. اكتشفت أن قيمتها الحقيقية تكمن في **التركيز** و **الإبداع**.</p>
                                
                                <blockquote className="border-r-4 border-anchor-gold pr-4 text-gray-600 italic">
                                    "لم أكن أدرك كم كنت أُهدر من وقتي وطاقتي. عندما ربطت وقتي بقيمي، أصبح 'إطفاء الشاشة' تحريراً وليس حرماناً."
                                </blockquote>
                                
                                <h2>النتائج الملموسة</h2>
                                <p>في غضون شهرين، انخفض وقتها على الشاشات إلى 3 ساعات يومياً. الأهم من ذلك، أنها استغلت الـ 5 ساعات الإضافية في تطوير هوايتها في الرسم الرقمي، وحققت أول دخل لها من بيع لوحاتها. المبلغ كان يعادل 500 {currency} (تم استخدام العملة الحالية).</p>
                                
                                <h2>الخلاصة: العهد هو الأساس</h2>
                                <p>بالنسبة لسارة، لم يكن الأمر مجرد تقليل استخدام. لقد كان **تغييراً في العهد** مع الذات. هي الآن تملك سيادتها الرقمية، وتحث الجميع على توقيع عهد التحرر.</p>
                                
                                <div className="mt-8 text-center">
                                    <a href="covenant.html" className="bg-anchor-blue text-white px-8 py-3 rounded-lg font-bold hover:bg-gray-800 transition shadow-md hover:shadow-lg flex items-center justify-center gap-2">
                                        <i className="fas fa-scroll"></i>
                                        اكتشف عهد التحرر والقيادة
                                    </a>
                                </div>
                            </section>
                        </article>
                    </main>
                    
                    <footer className="bg-anchor-blue text-white py-8 border-t border-slate-800 mt-12">
                        <div className="max-w-5xl mx-auto px-6">
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-8">
                                <div className="col-span-2 md:col-span-1">
                                    <h4 className="font-bold mb-3 text-anchor-gold">المرساة الرقمية</h4>
                                    <p className="text-sm text-slate-400">نحن هنا لإعادة بناء سيادتك الرقمية.</p>
                                </div>
                                <div className="text-right">
                                    <h4 className="font-bold mb-3">القائمة</h4>
                                    <div className="text-sm space-y-2">
                                        <a href="index.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('home')}</a>
                                        <a href="guide.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('guide')}</a>
                                        <a href="members.html" className="block text-slate-300 hover:text-anchor-gold transition">منطقة الأعضاء</a>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <h4 className="font-bold mb-3">روابط هامة</h4>
                                    <div className="text-sm space-y-2">
                                        <a href="pledge.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('footer-covenant')}</a>
                                        <a href="resources.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('footer-resources')}</a>
                                        <a href="book-preorder.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('footer-preorder')}</a>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <h4 className="font-bold mb-3">تواصل</h4>
                                    <p className="text-sm text-slate-400 mb-2">{t('footer-email')}</p>
                                    <a href="mailto:garbaouisalma@gmail.com" className="text-anchor-gold hover:underline font-medium">garbaouisalma@gmail.com</a>
                                </div>
                            </div>
                            
                            <hr className="border-slate-700 my-8" />
                            
                            <div className="text-center text-slate-400 text-sm">
                                <p>{t('footer-copy')}</p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        // ✅ تحديث التصيير للتغليف بـ LanguageProvider
        ReactDOM.render(<LanguageProvider><BlogPage2 /></LanguageProvider>, document.getElementById('root'));
    </script>
</body>
</html>