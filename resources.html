<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مكتبة الموارد | المرساة الرقمية</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'anchor-blue': '#0f172a',
                        'anchor-gold': '#d4af37',
                        'anchor-green': '#059669',
                        'anchor-purple': '#7c3aed'
                    },
                    fontFamily: {
                        sans: ['Tajawal', 'sans-serif']
                    }
                }
            }
        }
    </script>
    
    <script crossorigin src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body class="bg-slate-50 text-slate-900 font-sans">
    <div id="root"></div>
    <script type="text/babel">

        // ----------------------------------------------------
        // الكود المشترك للغة والعملة (Language/Currency Logic)
        // ----------------------------------------------------
        
        const translations = {
            ar: {
                'lang_ar': 'العربية', 'lang_en': 'English', 'lang_fr': 'Français',
                'curr_usd': 'USD', 'curr_eur': 'EUR', 'curr_sar': 'SAR',
                'home': 'الرئيسية',
                'guide': 'الدليل',
                'buy_book': 'الشراء',
                'app_name': 'المرساة الرقمية',
                'resources_title': 'مكتبة الموارد',
                'footer-copy': '© 2025 المرساة الرقمية - "من أنت حين تنطفئ الشاشة؟". جميع الحقوق محفوظة.',
                'footer-contact': 'للتواصل:',
                
                'res-title': 'مصادر مجانية لبدء رحلة التحرر الرقمي',
                'res-subtitle': 'كل ما تحتاجه للقيادة والتحرر من الشاشات المشتتة.',
                'res-emergency-title': 'دليل الطوارئ',
                'res-emergency-desc': 'أداة فورية للعودة إلى حالة التركيز والهدوء عند الشعور بالانجراف.',
                'res-values-title': 'أداة تحديد القيمة الجوهرية',
                'res-values-desc': 'اكتشف قيمك الحقيقية لتربط أهدافك بأولوياتك بدلاً من الشاشة.',
                'res-covenant-title': 'عهد التحرر القابل للطباعة',
                'res-covenant-desc': 'وثيقة شخصية لتوقيع التزامك بالسيادة الرقمية.',
                'link-download': 'تحميل',
                'link-tool': 'ابدأ الأداة',
            },
            en: {
                'lang_ar': 'Arabic', 'lang_en': 'English', 'lang_fr': 'French',
                'curr_usd': 'USD', 'curr_eur': 'EUR', 'curr_sar': 'SAR',
                'home': 'Home',
                'guide': 'Guide',
                'buy_book': 'Purchase',
                'app_name': 'Digital Anchor',
                'resources_title': 'Resources Library',
                'footer-copy': '© 2025 Digital Anchor - "Who are you when the screen turns off?". All rights reserved.',
                'footer-contact': 'Contact:',
                
                'res-title': 'Free Resources to Start Your Digital Liberation Journey',
                'res-subtitle': 'Everything you need for leadership and liberation from distracting screens.',
                'res-emergency-title': 'Emergency Guide',
                'res-emergency-desc': 'An immediate tool to return to focus and calm when feeling overwhelmed.',
                'res-values-title': 'Core Value Identification Tool',
                'res-values-desc': 'Discover your true values to link your goals to your priorities instead of the screen.',
                'res-covenant-title': 'Printable Liberation Pledge',
                'res-covenant-desc': 'A personal document to sign your commitment to digital sovereignty.',
                'link-download': 'Download',
                'link-tool': 'Start Tool',
            },
            fr: {
                'lang_ar': 'Arabe', 'lang_en': 'Anglais', 'lang_fr': 'Français',
                'curr_usd': 'USD', 'curr_eur': 'EUR', 'curr_sar': 'SAR',
                'home': 'Accueil',
                'guide': 'Guide',
                'buy_book': 'Acheter',
                'app_name': 'Ancre Numérique',
                'resources_title': 'Bibliothèque de Ressources',
                'footer-copy': '© 2025 Ancre Numérique - "Qui êtes-vous lorsque l\'écran s\'éteint?". Tous droits réservés.',
                'footer-contact': 'Contactez:',

                'res-title': 'Ressources Gratuites pour Commencer Votre Voyage de Libération Numérique',
                'res-subtitle': 'Tout ce dont vous avez besoin pour le leadership et la libération des écrans distrayants.',
                'res-emergency-title': 'Guide d\'Urgence',
                'res-emergency-desc': 'Un outil immédiat pour retrouver le calme et la concentration lorsque vous vous sentez emporté.',
                'res-values-title': 'Outil d\'Identification des Valeurs Fondamentales',
                'res-values-desc': 'Découvrez vos vraies valeurs pour lier vos objectifs à vos priorités plutôt qu\'à l\'écran.',
                'res-covenant-title': 'Engagement de Libération Imprimable',
                'res-covenant-desc': 'Un document personnel pour signer votre engagement envers la souveraineté numérique.',
                'link-download': 'Télécharger',
                'link-tool': 'Démarrer l\'Outil',
            },
        };

        const LanguageContext = React.createContext();
        const LanguageProvider = ({ children }) => {
            const [language, setLanguage] = React.useState('ar');
            const [currency, setCurrency] = React.useState('USD');
            const t = (key) => translations[language]?.[key] || key;
            React.useEffect(() => {
                document.documentElement.lang = language;
                document.documentElement.dir = language === 'ar' ? 'rtl' : 'ltr';
            }, [language]);
            return (
                <LanguageContext.Provider value={{ language, setLanguage, currency, setCurrency, t }}>
                    {children}
                </LanguageContext.Provider>
            );
        };
        const useTranslation = () => React.useContext(LanguageContext);

        const LanguageCurrencySwitcher = () => {
            const { language, setLanguage, currency, setCurrency, t } = useTranslation();
            const handleLanguageChange = (e) => setLanguage(e.target.value);
            const handleCurrencyChange = (e) => setCurrency(e.target.value);
            return (
                <div className="flex items-center gap-3">
                    <div className="relative text-white"> 
                        <select 
                            value={language} 
                            onChange={handleLanguageChange} 
                            className="appearance-none bg-anchor-blue border border-gray-600 rounded-lg py-1 pl-6 pr-3 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-anchor-gold cursor-pointer"
                        >
                            <option value="ar">{t('lang_ar')}</option>
                            <option value="en">{t('lang_en')}</option>
                            <option value="fr">{t('lang_fr')}</option>
                        </select>
                        <i className="fas fa-caret-down absolute top-1/2 right-2 transform -translate-y-1/2 pointer-events-none text-gray-400"></i>
                    </div>
                    <div className="relative text-white">
                        <select 
                            value={currency} 
                            onChange={handleCurrencyChange} 
                            className="appearance-none bg-anchor-blue border border-gray-600 rounded-lg py-1 pl-6 pr-3 text-sm font-medium focus:outline-none focus:ring-2 focus:ring-anchor-gold cursor-pointer"
                        >
                            <option value="USD">{t('curr_usd')}</option>
                            <option value="EUR">{t('curr_eur')}</option>
                            <option value="SAR">{t('curr_sar')}</option>
                        </select>
                        <i className="fas fa-caret-down absolute top-1/2 right-2 transform -translate-y-1/2 pointer-events-none text-gray-400"></i>
                    </div>
                </div>
            );
        };

        const Navbar = () => {
            const { t } = useTranslation(); 
            return (
                <nav className="bg-anchor-blue text-white py-4 px-6 shadow-lg">
                    <div className="max-w-7xl mx-auto flex justify-between items-center">
                        <a href="index.html" className="flex items-center gap-3 group">
                            <div className="w-10 h-10 bg-gradient-to-r from-anchor-gold to-yellow-500 rounded-lg flex items-center justify-center transition-transform group-hover:scale-110">
                                <i className="fas fa-anchor text-white text-lg"></i>
                            </div>
                            <div>
                                <span className="font-bold text-lg hidden md:block">{t('app_name')}</span> 
                                <span className="text-xs text-slate-300 block">{t('resources_title')}</span>
                            </div>
                        </a>
                        
                        <div className="flex gap-4 md:gap-6 text-sm font-medium items-center">
                            <a href="index.html" className="hover:text-anchor-gold transition flex items-center gap-2">
                                <i className="fas fa-home"></i>
                                <span className="hidden md:inline">{t('home')}</span>
                            </a>
                            <a href="guide.html" className="hover:text-anchor-gold transition hidden sm:flex items-center gap-2">
                                <i className="fas fa-book-open"></i>
                                <span>{t('guide')}</span>
                            </a>
                            <a href="book-preorder.html" className="bg-anchor-gold text-anchor-blue px-5 py-2.5 rounded-full font-bold hover:bg-yellow-400 transition shadow-lg flex items-center gap-2">
                                <i className="fas fa-shopping-cart"></i>
                                <span>{t('buy_book')}</span>
                            </a>
                            
                            <LanguageCurrencySwitcher />
                        </div>
                    </div>
                </nav>
            );
        };

        const ResourcesPage = () => {
            const { t } = useTranslation();

            const ResourceCard = ({ icon, titleKey, descKey, link, linkTextKey, color }) => (
                <div className={`bg-white p-6 rounded-xl shadow-lg border-t-4 border-${color}`}>
                    <i className={`${icon} text-4xl text-${color} mb-3`}></i>
                    <h3 className="text-xl font-bold mb-2">{t(titleKey)}</h3>
                    <p className="text-gray-600 mb-4">{t(descKey)}</p>
                    <a href={link} className={`inline-block text-${color} font-bold hover:underline transition`}>
                        {t(linkTextKey)}
                    </a>
                </div>
            );

            return (
                <div className="min-h-screen flex flex-col">
                    <Navbar />
                    <main className="flex-grow max-w-5xl mx-auto p-6 lg:p-12">
                        <header className="text-center mb-10">
                            <h1 className="text-3xl font-bold text-anchor-blue mb-2">{t('res-title')}</h1>
                            <p className="text-gray-500">{t('res-subtitle')}</p>
                        </header>
                        
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <ResourceCard
                                icon="fas fa-fire-alt"
                                titleKey="res-emergency-title"
                                descKey="res-emergency-desc"
                                link="downloads/Emergency_Guide.pdf"
                                linkTextKey="link-download"
                                color="anchor-red"
                            />
                            <ResourceCard
                                icon="fas fa-brain"
                                titleKey="res-values-title"
                                descKey="res-values-desc"
                                link="tool-value.html"
                                linkTextKey="link-tool"
                                color="anchor-purple"
                            />
                            <ResourceCard
                                icon="fas fa-scroll"
                                titleKey="res-covenant-title"
                                descKey="res-covenant-desc"
                                link="covenant.html"
                                linkTextKey="link-tool"
                                color="anchor-gold"
                            />
                        </div>
                    </main>
                    
                    <footer className="bg-anchor-blue text-white py-8 border-t border-slate-800 mt-12">
                        <div className="max-w-5xl mx-auto px-6">
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-8">
                                <div className="col-span-2 md:col-span-1">
                                    <h4 className="font-bold mb-3 text-anchor-gold">{t('app_name')}</h4>
                                    <p className="text-sm text-slate-400">نحن هنا لإعادة بناء سيادتك الرقمية.</p>
                                </div>
                                <div className="text-right">
                                    <h4 className="font-bold mb-3">القائمة</h4>
                                    <div className="text-sm space-y-2">
                                        <a href="index.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('home')}</a>
                                        <a href="guide.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('guide')}</a>
                                        <a href="members.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('members_title')}</a>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <h4 className="font-bold mb-3">روابط هامة</h4>
                                    <div className="text-sm space-y-2">
                                        <a href="pledge.html" className="block text-slate-300 hover:text-anchor-gold transition">عهد التحرر</a>
                                        <a href="resources.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('resources_title')}</a>
                                        <a href="book-preorder.html" className="block text-slate-300 hover:text-anchor-gold transition">{t('buy_book')}</a>
                                    </div>
                                </div>
                                <div className="text-right">
                                    <h4 className="font-bold mb-3">{t('footer-contact')}</h4>
                                    <p className="text-sm text-slate-400 mb-2">الدعم الفني</p>
                                    <a href="mailto:garbaouisalma@gmail.com" className="text-anchor-gold hover:underline font-medium">garbaouisalma@gmail.com</a>
                                </div>
                            </div>
                            
                            <hr className="border-slate-700 my-8" />
                            
                            <div className="text-center text-slate-400 text-sm">
                                <p>{t('footer-copy')}</p>
                            </div>
                        </div>
                    </footer>
                </div>
            );
        };

        ReactDOM.render(<LanguageProvider><ResourcesPage /></LanguageProvider>, document.getElementById('root'));
    </script>
</body>
</html>