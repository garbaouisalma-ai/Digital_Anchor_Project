<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ŸÖŸÜ ÿ£ŸÜÿ™ ÿ≠ŸäŸÜ ÿ™ŸÜÿ∑ŸÅÿ¶ ÿßŸÑÿ¥ÿßÿ¥ÿ©ÿü</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap');
        
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #1e40af 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .experiment-card {
            transition: all 0.3s ease;
            border-right: 4px solid transparent;
        }
        
        .experiment-card:hover {
            border-right-color: #f97316;
            background: rgba(249, 115, 22, 0.05);
        }
        
        .experiment-card.completed {
            background: rgba(34, 197, 94, 0.05);
            border-right-color: #22c55e;
        }
        
        .progress-ring {
            transition: stroke-dashoffset 0.5s ease;
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .screen-off {
            animation: screenOff 2s ease-in-out;
        }
        
        @keyframes screenOff {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        .pulse-button {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: -4px;
            right: 0;
            width: 0;
            height: 2px;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 100%;
        }

        .experiment-number {
            background: linear-gradient(135deg, #f97316 0%, #fb923c 100%);
        }

        .stats-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full">
  <div id="app" class="h-full w-full overflow-auto"></div>
  <script>
        // Configuration
        const defaultConfig = {
            book_title: "ŸÖŸÜ ÿ£ŸÜÿ™ ÿ≠ŸäŸÜ ÿ™ŸÜÿ∑ŸÅÿ¶ ÿßŸÑÿ¥ÿßÿ¥ÿ©ÿü",
            book_subtitle: "ÿØŸÑŸäŸÑŸÉ ÿßŸÑÿπŸÖŸÑŸä ŸÑŸÑÿ≠Ÿäÿßÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ© ŸÅŸä ÿßŸÑÿπÿµÿ± ÿßŸÑÿ±  ŸÖŸä",
            author_name: "ÿßŸÑŸÖÿ§ŸÑŸÅ",
            primary_button_text: "ÿßÿ®ÿØÿ£ ÿ±ÿ≠ŸÑÿ™ŸÉ ÿßŸÑÿ¢ŸÜ",
            secondary_button_text: "ÿ™ÿπÿ±ŸëŸÅ ÿπŸÑŸâ ÿßŸÑŸÉÿ™ÿßÿ®",
            book_price: "99",
            discount_price: "79",
            background_color: "#0f172a",
            primary_color: "#3b82f6",
            accent_color: "#f97316",
            success_color: "#22c55e",
            text_color: "#ffffff",
            font_family: "Cairo"
        };

        // Language and Currency Management
        let currentLanguage = 'ar';
        let currentCurrency = 'SAR';

        const translations = {
            ar: {
                home: 'ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©',
                lab: 'ÿßŸÑŸÖÿÆÿ™ÿ®ÿ± ÿßŸÑÿ™ŸÅÿßÿπŸÑŸä',
                about: 'ÿπŸÜ ÿßŸÑŸÉÿ™ÿßÿ®',
                dashboard: 'ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ',
                pricing: 'ÿßŸÑÿ£ÿ≥ÿπÿßÿ±',
                booking: 'ÿßÿ≠ÿ¨ÿ≤ ŸÜÿ≥ÿÆÿ™ŸÉ',
                images: 'ÿµŸàÿ± ŸÇÿßÿ®ŸÑÿ© ŸÑŸÑÿ™ÿÆÿµŸäÿµ',
                bookNow: 'ÿßÿ≠ÿ¨ÿ≤ ÿßŸÑÿ¢ŸÜ',
                learnMore: 'ÿ™ÿπÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑŸÖÿ≤ŸäÿØ',
                currency: 'ÿßŸÑÿπŸÖŸÑÿ©',
                language: 'ÿßŸÑŸÑÿ∫ÿ©',
                digitalAnchor: 'ÿßŸÑŸÖÿ±ÿ≥ÿßÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ©',
                practicalGuide: 'ÿØŸÑŸäŸÑŸÉ ÿßŸÑÿπŸÖŸÑŸä ŸÑŸÑÿ≠Ÿäÿßÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ©   Ÿä ÿßŸÑÿπÿµÿ± ÿßŸÑÿ±ŸÇŸÖŸä',
                readyToTransform: 'ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ≥ÿ™ÿπÿØ ŸÑŸÑÿ™ÿ≠ŸàŸÑÿü',
                startJourney: 'ÿßÿ®ÿØÿ£ ÿ±ÿ≠ŸÑÿ™ŸÉ ÿßŸÑŸäŸàŸÖ ŸÖÿπ 48 ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ™ŸÅÿßÿπŸÑŸäÿ©',
                bookYourCopy: 'ÿßÿ≠ÿ¨ÿ≤ ŸÜÿ≥ÿÆÿ™ŸÉ ÿßŸÑÿ¢ŸÜ',
                completedExperiments: 'ÿ™ÿ¨ÿ±ÿ®ÿ© ŸÖŸÉÿ™ŸÖŸÑÿ©',
                totalProgress: 'ÿ™ŸÇÿØŸÖŸÉ',
                whoAreYou: 'ŸÖŸÜ ÿ£ŸÜÿ™ ÿ≠ŸäŸÜ ÿ™ŸÜÿ∑ŸÅÿ¶ ÿßŸÑÿ¥ÿßÿ¥ÿ©ÿü',
                interactiveLab: 'üß™ ÿßŸÑŸÖÿÆÿ™ÿ®ÿ± ÿßŸÑÿ™ŸÅÿßÿπŸÑŸä',
                practicalExperiments: 'ÿ™ÿ¨ÿ±ÿ®ÿ© ÿπŸÖŸÑŸäÿ© ŸÑÿ™ÿ≠ŸàŸäŸÑ ÿ≠Ÿäÿß  ŸÉ ÿßŸÑÿ±ŸÇŸÖŸäÿ©',
                yourProgress: 'ÿ™ŸÇÿØŸÖŸÉ',
                completed: 'ŸÖŸÉÿ™ŸÖŸÑ',
                parts: 'ÿ£ÿ¨ÿ≤ÿßÿ° ŸÖÿ™ŸÉÿßŸÖŸÑÿ©',
                chapters: 'ŸÅÿµŸÑÿßŸã ÿπŸÖŸÑŸäÿßŸã',
                experiences: 'ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ™ŸÅÿßÿπŸÑŸäÿ©',
                investInTransformation: 'üíé ÿßÿ≥ÿ™  ŸÖÿ± ŸÅŸä ÿ™ÿ≠ŸàŸÑŸÉ ÿßŸÑÿ±ŸÇŸÖŸä',
                getFullBook: 'ÿßÿ≠ÿµŸÑ ÿπŸÑŸâ ÿßŸÑŸÉÿ™ÿßÿ® ÿßŸÑŸÉÿßŸÖŸÑ ŸÖÿπ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ™ÿ¨ÿßÿ±ÿ® ÿßŸÑÿ™ŸÅÿßÿπŸÑŸäÿ©',
                digitalEdition: 'ÿßŸÑŸÜÿ≥ÿÆÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ©',
                premiumEdition: 'ÿßŸÑŸÜÿ≥ÿÆÿ© ÿßŸÑŸÖŸÖŸäÿ≤ÿ©',
                printEdition: 'ÿßŸÑŸÜÿ≥ÿÆÿ© ÿßŸÑŸàÿ±ŸÇŸäÿ©',
                mostPopular: 'ÿßŸÑÿ£ŸÉÿ´ÿ± ÿ¥ÿπÿ®Ÿäÿ© üî•',
                moneyBackGuarantee: 'üõ°Ô∏è ÿ∂ŸÖÿßŸÜ ÿßÿ≥ÿ™ÿ±ÿ¨ÿßÿπ ÿßŸÑŸÖÿßŸÑ ŸÑŸÖÿØÿ© 30 ŸäŸàŸÖÿßŸã',
                notSatisfied: 'ÿ•ÿ∞ÿß ŸÑŸÖ ÿ™ÿ¥ÿπÿ± ÿ®ÿßŸÑÿ™ÿ≠ŸàŸÑ ÿÆŸÑÿßŸÑ 30 ŸäŸàŸÖÿßŸãÿå ÿ≥ŸÜÿπŸäÿØ ŸÑŸÉ ÿ£ŸÖŸàÿßŸÑŸÉ ÿ®ÿßŸÑŸÉÿßŸÖŸÑ - ÿ®ÿØŸàŸÜ ÿ£ÿ≥ÿ¶ŸÑÿ©!',
                bookNowTitle: 'üìù ÿßÿ≠ÿ¨ÿ≤ ŸÜÿ≥ÿÆÿ™ŸÉ ÿßŸÑÿ¢ŸÜ',
                bookingInfo: 'ŸÖÿπŸÑŸà  ÿßÿ™ ÿßŸÑÿ≠ÿ¨ÿ≤',
                fullName: 'ÿßŸÑÿßÿ≥ŸÖ ÿßŸÑŸÉÿßŸÖŸÑ',
                email: 'ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä',
                phone: 'ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ',
                country: 'ÿßŸÑÿØŸàŸÑÿ©',
                selectCountry: 'ÿßÿÆÿ™ÿ± ÿßŸÑÿØŸàŸÑÿ©',
                address: 'ÿßŸÑÿπŸÜŸàÿßŸÜ ÿßŸÑŸÉÿßŸÖŸÑ',
                selectedPlan: 'ÿßŸÑÿ®ÿßŸÇÿ© ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ©',
                completeBooking: 'ÿ•ÿ™ŸÖÿßŸÖ ÿßŸÑÿ≠ÿ¨ÿ≤ üöÄ',
                orderSummary: 'ŸÖŸÑÿÆÿµ ÿßŸÑÿ∑ŸÑÿ®',
                basePrice: 'ÿßŸÑ  ÿπÿ± ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿä:',
                discount: 'ÿßŸÑÿÆÿµŸÖ:',
                total: 'ÿßŸÑŸÖÿ¨ŸÖŸàÿπ:',
                securePayment: 'üîí ÿßŸÑÿØŸÅÿπ ÿßŸÑÿ¢ŸÖŸÜ',
                securePaymentDesc: 'ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿπÿßŸÖŸÑÿßÿ™ ŸÖÿ≠ŸÖŸäÿ© ÿ®ÿ™  ŸÅŸäÿ± SSL. ŸÜÿ≠ŸÜ ŸÑÿß ŸÜÿÆÿ≤ŸÜ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ®ÿ∑ÿßŸÇÿ™ŸÉ ÿßŸÑÿßÿ¶ÿ™ŸÖÿßŸÜŸäÿ©.',
                dayGuarantee: '‚úì ÿ∂ŸÖÿßŸÜ 30 ŸäŸàŸÖÿßŸã',
                guaranteeDesc: 'ÿ•ÿ∞ÿß ŸÑŸÖ ÿ™ŸÉŸÜ ÿ±ÿßÿ∂ŸäÿßŸã ÿ®ŸÜÿ≥ÿ®ÿ© 100%ÿå ÿ≥ŸÜÿπŸäÿØ ŸÑŸÉ ÿ£ŸÖŸàÿßŸÑŸÉ ŸÉÿßŸÖŸÑÿ©.',
                customizableImages: 'üé® ÿµŸàÿ± ŸÇÿßÿ®ŸÑÿ© ŸÑŸÑÿ™ÿÆÿµŸäÿµ',
                designYourImage: 'ÿµŸÖŸÖ ÿµŸàÿ±ÿ™ŸÉ ÿßŸÑÿÆÿßÿµÿ© ŸÖÿπ ÿ±ÿ≥ÿßŸÑÿ™ŸÉ ÿßŸÑŸÖŸÑŸáŸÖÿ©',
                customizeDownload: 'ÿ™ÿÆÿµŸäÿµ Ÿàÿ™ÿ≠ŸÖŸäŸÑ üì•',
                createCustomImage: '‚ú® ÿ•ŸÜÿ¥ÿßÿ° ÿµŸàÿ±ÿ© ŸÖÿÆÿµÿµÿ©',
                writeYourText: 'ÿßŸÉÿ™ÿ® ŸÜÿµŸÉ ÿßŸÑÿÆÿßÿµ ŸàÿµŸÖŸÖ ÿµŸàÿ±ÿ™ŸÉ ÿßŸÑŸÅÿ±ŸäÿØÿ©',
                startDesign: 'ÿßÿ®ÿØÿ£ ÿßŸÑÿ™ÿµŸÖŸäŸÖ üé®',
                aboutBook: 'ÿπŸÜ ÿßŸÑŸÉÿ™ÿßÿ®',
                whyThisBook: 'üíé ŸÑŸÖÿßÿ∞ÿß Ÿáÿ∞ÿß ÿßŸÑŸÉÿ™ÿßÿ®ÿü',
                notTheoretical: 'ŸÑŸäÿ≥ ŸÉÿ™ÿßÿ®ÿßŸã ŸÜÿ∏ÿ±ŸäÿßŸã',
                practicalApplications: 'ÿ™ÿ∑ÿ®ŸäŸÇÿßÿ™ ÿπŸÖŸÑŸäÿ© ŸÅŸàÿ±Ÿäÿ©',
                interactiveExperiences: '48 ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ™ŸÅÿßÿπŸÑŸäÿ©',
                learnByDoing: 'ÿ™ÿπŸÑŸëŸÖ ÿ®ÿßŸÑŸÖŸÖÿßÿ±ÿ≥ÿ©',
                completeJourney: 'ÿ±ÿ≠ŸÑÿ© ÿ™ÿ≠ŸàŸÑ ŸÉÿßŸÖŸÑÿ©',
                fromValuesToApplication: 'ŸÖŸÜ ÿßŸÑŸÇŸäŸÖ ŸÑŸÑÿ™ÿ∑ÿ®ŸäŸÇ ŸÑŸÑÿßÿ≥ÿ™ŸÖÿ±ÿßÿ±Ÿäÿ©',
                suitableDigitalAge: 'ŸÖŸÜÿßÿ≥ÿ® ŸÑŸÑÿπÿµÿ± ÿßŸÑÿ±ŸÇŸÖŸä',
                realisticSolutions: 'ÿ≠ŸÑŸàŸÑ ŸàÿßŸÇÿπŸäÿ© ŸÑÿ™ÿ≠ÿØŸäÿßÿ™ ÿ≠ŸÇŸäŸÇŸäÿ©',
                readyToStart: 'ŸáŸÑ ÿ£ŸÜÿ™ ŸÖÿ≥ÿ™ÿπÿØ ŸÑŸÑÿ®ÿØÿ°ÿü',
                joinTransformation: 'ÿßŸÜÿ∂ŸÖ ÿ•ŸÑŸâ ÿ±ÿ≠ŸÑÿ© ÿßŸÑÿ™ÿ≠ŸàŸÑ   ŸÑŸäŸàŸÖ',
                personalDashboard: 'üìä ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿ¥ÿÆÿµŸäÿ©',
                totalExperiments: 'ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑÿ™ÿ¨ÿßÿ±ÿ®',
                completionRate: 'ŸÜÿ≥ÿ®ÿ© ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤',
                achievements: 'ÿßŸÑÿ•ŸÜÿ¨ÿßÿ≤ÿßÿ™',
                progressByParts: 'ÿßŸÑÿ™ŸÇÿØŸÖ ÿ≠ÿ≥ÿ® ÿßŸÑÿ£ÿ¨ÿ≤ÿßÿ°',
                part: 'ÿßŸÑÿ¨ÿ≤ÿ°',
                experiment: 'ÿ™ÿ¨ÿ±ÿ®ÿ©'
            },
            en: {
                home: 'Home',
                lab: 'Interactive Lab',
                about: 'About',
                dashboard: 'Dashboard',
                pricing: 'Pricing',
                booking: 'Book Now',
                images: 'Custom Images',
                bookNow: 'Book Now',
                learnMore: 'Learn More',
                currency: 'Currency',
                language: 'Language',
                digitalAnchor: 'The Digital Anchor',
                practicalGuide: 'Your practical guide to real life in the digital age',
                readyToTransform: 'Ready to Transform?',
                startJourney: 'Start your journey today with 48 interactive experiences',
                bookYourCopy: 'Book Your Copy Now',
                completedExperiments: 'Completed Experiments',
                totalProgress: 'Your Progress',
                whoAreYou: 'Who Are You When The Screen Goes Off?',
                interactiveLab: 'üß™ Interactive Lab',
                practicalExperiments: 'practical experiments to transform your digital life',
                yourProgress: 'Your Progress',
                completed: 'Completed',
                part: 'Part',
                experiment: 'Experiment',
                parts: 'Integrated Parts',
                chapters: 'Practical Chapters',
                experiences: 'Interactive Experiences',
                investInTransformation: 'üíé Invest In Your Digital Transformation',
                getFullBook: 'Get the complete book with all interactive experiences',
                digitalEdition: 'Digital Edition',
                premiumEdition: 'Premium Edition',
                printEdition: 'Print Edition',
                mostPopular: 'Most Popular üî•',
                moneyBackGuarantee: 'üõ°Ô∏è 30-Day Money Back Guarantee',
                notSatisfied: 'If you don\'t feel transformed within 30 days, we\'ll refund your money in full - no questions asked!',
                bookNowTitle: 'üìù Book Your Copy Now',
                bookingInfo: 'Booking Information',
                fullName: 'Full Name',
                email: 'Email Address',
                phone: 'Phone Number',
                country: 'Country',
                selectCountry: 'Select Country',
                address: 'Full Address',
                selectedPlan: 'Selected Plan',
                completeBooking: 'Complete Booking üöÄ',
                orderSummary: 'Order Summary',
                basePrice: 'Base Price:',
                discount: 'Discount:',
                total: 'Total:',
                securePayment: 'üîí Secure Payment',
                securePaymentDesc: 'All transactions are protected with SSL encryption. We do not store your credit card information.',
                dayGuarantee: '‚úì 30-Day Guarantee',
                guaranteeDesc: 'If you\'re not 100% satisfied, we\'ll refund your money in full.',
                customizableImages: 'üé® Customizable Images',
                designYourImage: 'Design your own image with your inspiring message',
                customizeDownload: 'Customize & Download üì•',
                createCustomImage: '‚ú® Create Custom Image',
                writeYourText: 'Write your own text and design your unique image',
                startDesign: 'Start Designing üé®',
                aboutBook: 'About The Book',
                whyThisBook: 'üíé Why This Book?',
                notTheoretical: 'Not A Theoretical Book',
                practicalApplications: 'Immediate practical applications',
                interactiveExperiences: '48 Interactive Experiences',
                learnByDoing: 'Learn by doing',
                completeJourney: 'Complete Transformation Journey',
                fromValuesToApplication: 'From values to application to sustainability',
                suitableDigitalAge: 'Suitable For The Digital Age',
                realisticSolutions: 'Realistic solutions to real challenges',
                readyToStart: 'Ready To Start?',
                joinTransformation: 'Join the transformation journey today',
                personalDashboard: 'üìä Personal Dashboard',
                totalExperiments: 'Total Experiments',
                completionRate: 'Completion Rate',
                achievements: 'Achievements',
                progressByParts: 'Progress By Parts'
            },
            fr: {
                home: 'Accueil',
                lab: 'Laboratoire',
                about: '√Ä propos',
                dashboard: 'Tableau de bord',
                pricing: 'Tarifs',
                booking: 'R√©server',
                images: 'Images personnalis√©es',
                bookNow: 'R√©server maintenant',
                learnMore: 'En savoir plus',
                currency: 'Devise',
                language: 'Langue',
                digitalAnchor: 'L\'ancre num√©rique',
                practicalGuide: 'Votre guide pratique pour la vraie vie √† l\'√®re num√©rique',
                readyToTransform: 'Pr√™t √† vous transformer?',
                startJourney: 'Commencez votre voyage aujourd\'hui avec 48 exp√©riences interactives',
                bookYourCopy: 'R√©servez votre exemplaire',
                completedExperiments: 'Exp√©riences termin√©es',
                totalProgress: 'Votre progr√®s',
                whoAreYou: 'Qui √ätes-Vous Quand L\'√âcran S\'√âteint?',
                interactiveLab: 'üß™ Laboratoire Interactif',
                practicalExperiments: 'exp√©riences pratiques pour transformer votre vie num√©rique',
                yourProgress: 'Votre Progr√®s',
                completed: 'Termin√©',
                part: 'Partie',
                experiment: 'Exp√©rience',
                parts: 'Parties Int√©gr√©es',
                chapters: 'Chapitres Pratiques',
                experiences: 'Exp√©riences Interactives',
                investInTransformation: 'üíé Investissez Dans Votre Transformation Num√©rique',
                getFullBook: 'Obtenez le livre complet avec toutes les exp√©riences interactives',
                digitalEdition: '√âdition Num√©rique',
                premiumEdition: '√âdition Premium',
                printEdition: '√âdition Imprim√©e',
                mostPopular: 'Plus Populaire üî•',
                moneyBackGuarantee: 'üõ°Ô∏è Garantie de Remboursement de 30 Jours',
                notSatisfied: 'Si vous ne vous sentez pas transform√© dans les 30 jours, nous vous remboursons int√©gralement - sans poser de questions!',
                bookNowTitle: 'üìù R√©servez Votre Exemplaire Maintenant',
                bookingInfo: 'Informations de R√©servation',
                fullName: 'Nom Complet',
                email: 'Adresse E-mail',
                phone: 'Num√©ro de T√©l√©phone',
                country: 'Pays',
                selectCountry: 'S√©lectionnez le Pays',
                address: 'Adresse Compl√®te',
                selectedPlan: 'Forfait S√©lectionn√©',
                completeBooking: 'Finaliser la R√©servation üöÄ',
                orderSummary: 'R√©sum√© de la Commande',
                basePrice: 'Prix de Base:',
                discount: 'Remise:',
                total: 'Total:',
                securePayment: 'üîí Paiement S√©curis√©',
                securePaymentDesc: 'Toutes les transactions sont prot√©g√©es par cryptage SSL. Nous ne stockons pas vos informations de carte de cr√©dit.',
                dayGuarantee: '‚úì Garantie de 30 Jours',
                guaranteeDesc: 'Si vous n\'√™tes pas satisfait √† 100%, nous vous rembourserons int√©gralement.',
                customizableImages: 'üé® Images Personnalisables',
                designYourImage: 'Concevez votre propre image avec votre message inspirant',
                customizeDownload: 'Personnaliser et T√©l√©charger üì•',
                createCustomImage: '‚ú® Cr√©er une Image Personnalis√©e',
                writeYourText: '√âcrivez votre propre texte et concevez votre image unique',
                startDesign: 'Commencer la Conception üé®',
                aboutBook: '√Ä Propos du Livre',
                whyThisBook: 'üíé Pourquoi Ce Livre?',
                notTheoretical: 'Pas Un Livre Th√©orique',
                practicalApplications: 'Applications pratiques imm√©diates',
                interactiveExperiences: '48 Exp√©riences Interactives',
                learnByDoing: 'Apprendre en faisant',
                completeJourney: 'Voyage de Transformation Complet',
                fromValuesToApplication: 'Des valeurs √† l\'application √† la durabilit√©',
                suitableDigitalAge: 'Adapt√© √† L\'√àre Num√©rique',
                realisticSolutions: 'Solutions r√©alistes aux d√©fis r√©els',
                readyToStart: 'Pr√™t √† Commencer?',
                joinTransformation: 'Rejoignez le voyage de transformation aujourd\'hui',
                personalDashboard: 'üìä Tableau de Bord Personnel',
                totalExperiments: 'Total des Exp√©riences',
                completionRate: 'Taux de R√©ussite',
                achievements: 'R√©alisations',
                progressByParts: 'Progr√®s par Parties'
            },
            de: {
                home: 'Startseite',
                lab: 'Interaktives Labor',
                about: '  ber',
                dashboard: 'Dashboard',
                pricing: 'Preise',
                booking: 'Jetzt Buchen',
                images: 'Anpassbare Bilder',
                bookNow: 'Jetzt Buchen',
                learnMore: 'Mehr Erfahren',
                currency: 'W√§hrung',
                language: 'Sprache',
                digitalAnchor: 'Der Digitale Anker',
                practicalGuide: 'Ihr praktischer Leitfaden f√ºr das echte Leben im digitalen Zeitalter',
                readyToTransform: 'Bereit zur Transformation?',
                startJourney: 'Beginnen Sie heute Ihre Reise mit 48 interaktiven Erfahrungen',
                bookYourCopy: 'Buchen Sie Ihr Exemplar Jetzt',
                completedExperiments: 'Abgeschlossene Experimente',
                totalProgress: 'Ihr Fortschritt',
                whoAreYou: 'Wer Bist Du, Wenn Der Bildschirm Ausgeht?',
                interactiveLab: 'üß™ Interaktives Labor',
                practicalExperiments: 'praktische Experimente zur Transformation Ihres digitalen Lebens',
                yourProgress: 'Ihr Fortschritt',
                completed: 'Abgeschlossen',
                part: 'Teil',
                experiment: 'Experiment',
                parts: 'Integrierte Teile',
                chapters: 'Praktische Kapitel',
                experiences: 'Interaktive Erfahrungen',
                investInTransformation: 'üíé Investieren Sie in Ihre Digitale Transformation',
                getFullBook: 'Erhalten Sie das vollst√§ndige Buch mit allen interaktiven Erfahrungen',
                digitalEdition: 'Digitale Ausgabe',
                premiumEdition: 'Premium-Ausgabe',
                printEdition: 'Druckausgabe',
                mostPopular: 'Am Beliebtesten üî•',
                moneyBackGuarantee: 'üõ°Ô∏è 30-Tage Geld-zur√ºck-Garantie',
                notSatisfied: 'Wenn Sie sich innerhalb von 30 Tagen nicht transformiert f√ºhlen, erstatten wir Ihr Geld vollst√§ndig zur√ºck - keine Fragen gestellt!',
                bookNowTitle: 'üìù Buchen Sie Ihr Exemplar Jetzt',
                bookingInfo: 'Buchungsinformationen',
                fullName: 'Vollst√§ndiger Name',
                email: 'E-Mail-Adresse',
                phone: 'Telefonnummer',
                country: 'Land',
                selectCountry: 'Land Ausw√§hlen',
                address: 'Vollst√§ndige Adresse',
                selectedPlan: 'Ausgew√§hlter Plan',
                completeBooking: 'Buchung Abschlie√üen üöÄ',
                orderSummary: 'Bestell√ºbersicht',
                basePrice: 'Grundpreis:',
                discount: 'Rabatt:',
                total: 'Gesamt:',
                securePayment: 'üîí Sichere Zahlung',
                securePaymentDesc: 'Alle Transaktionen sind durch SSL-Verschl√ºsselung gesch√ºtzt. Wir speichern Ihre Kreditkarteninformationen nicht.',
                dayGuarantee: '‚úì 30-Tage-Garantie',
                guaranteeDesc: 'Wenn Sie nicht zu 100% zufrieden sind, erstatten wir Ihr Geld vollst√§ndig zur√ºck.',
                customizableImages: 'üé® Anpassbare Bilder',
                designYourImage: 'Gestalten Sie Ihr eigenes Bild mit Ihrer inspirierenden Botschaft',
                customizeDownload: 'Anpassen & Herunterladen üì•',
                createCustomImage: '‚ú® Benutzerdefiniertes Bild Erstellen',
                writeYourText: 'Schreiben Sie Ihren eigenen Text und gestalten Sie Ihr einzigartiges Bild',
                startDesign: 'Design Starten üé®',
                aboutBook: '√úber Das Buch',
                whyThisBook: 'üíé Warum Dieses Buch?',
                notTheoretical: 'Kein Theoretisches Buch',
                practicalApplications: 'Sofortige praktische Anwendungen',
                interactiveExperiences: '48 Interaktive Erfahrungen',
                learnByDoing: 'Lernen durch Tun',
                completeJourney: 'Vollst√§ndige Transformationsreise',
                fromValuesToApplication: 'Von Werten zur Anwendung zur Nachhaltigkeit',
                suitableDigitalAge: 'Geeignet f√ºr das Digitale Zeitalter',
                realisticSolutions: 'Realistische L√∂sungen f√ºr echte Herausforderungen',
                readyToStart: 'Bereit zu Beginnen?',
                joinTransformation: 'Treten Sie heute der Transformationsreise bei',
                personalDashboard: 'üìä Pers√∂nliches Dashboard',
                totalExperiments: 'Gesamte Experimente',
                completionRate: 'Abschlussrate',
                achievements: 'Erfolge',
                progressByParts: 'Fortschritt Nach Teilen'
            }
        };

        const currencies = {
            SAR: { symbol: 'ÿ±.ÿ≥', rate: 1, name: 'ÿ±ŸäÿßŸÑ ÿ≥ÿπŸàÿØŸä' },
            USD: { symbol: '$', rate: 0.27, name: 'US Dollar' },
            EUR: { symbol: '‚Ç¨', rate: 0.24, name: 'Euro' },
            GBP: { symbol: '¬£', rate: 0.21, name: 'British Pound' },
            AED: { symbol: 'ÿØ.ÿ•', rate: 0.98, name: 'ÿØÿ±ŸáŸÖ ÿ•ŸÖÿßÿ±ÿßÿ™Ÿä' },
            EGP: { symbol: 'ÿ¨.ŸÖ', rate: 8.25, name: 'ÿ¨ŸÜŸäŸá ŸÖÿµÿ±Ÿä' }
        };

        function t(key) {
            return translations[currentLanguage][key] || key;
        }

        function formatPrice(price) {
            const currency = currencies[currentCurrency];
            const convertedPrice = Math.round(parseFloat(price) * currency.rate);
            return `${convertedPrice} ${currency.symbol}`;
        }

        function changeLanguage(lang) {
            currentLanguage = lang;
            if (lang === 'ar') {
                document.documentElement.setAttribute('dir', 'rtl');
                document.documentElement.setAttribute('lang', 'ar');
            } else {
                document.documentElement.setAttribute('dir', 'ltr');
                document.documentElement.setAttribute('lang', lang);
            }
            render();
        }

        function changeCurrency(curr) {
            currentCurrency = curr;
            render();
        }

        // Book structure
        const bookStructure = {
            parts: [
                {
                    id: 1,
                    title: "ŸÖÿ±ÿ≥ÿßÿ© ÿßŸÑ  ŸäŸÖ",
                    icon: "üéØ",
                    experiments: [
                        { id: 1, name: "ÿßŸÉÿ™ÿ¥ŸÅ ŸÇŸäŸÖŸÉ ÿßŸÑÿÆŸÖÿ≥ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©", type: "interactive" },
                        { id: 2, name: "ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑŸÇŸäŸÖ ÿßŸÑÿ¥ÿÆÿµŸäÿ©", type: "quiz" },
                        { id: 3, name: "ŸÖÿµŸÅŸàŸÅÿ© ÿßŸÑŸÇÿ±ÿßÿ±ÿßÿ™", type: "tool" },
                        { id: 4, name: "ÿ™ŸÖÿ±ŸäŸÜ ŸäŸàŸÖ ÿ®ÿØŸàŸÜ ŸÇŸÜÿßÿπ", type: "challenge" },
                        { id: 5, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑÿ¥ÿ¨ÿßÿπÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ©", type: "planner" },
                        { id: 6, name: "ÿßÿÆÿ™ÿ®ÿßÿ±: ŸáŸÑ ÿ£ŸÜÿ™ ÿ™ÿßÿ®ÿπ ÿ£ŸÖ ŸÇÿßÿ¶ÿØÿü", type: "quiz" },
                        { id: 7, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ÿ∂ÿ∫ÿ∑ ÿßŸÑŸÖÿ¨ÿ™ŸÖÿπ", type: "calculator" },
                        { id: 8, name: "ŸÖŸÅŸÉÿ±ÿ© ÿßŸÑ  ŸäŸÖ", type: "journal" }
                    ]
                },
                {
                    id: 2,
                    title: "ÿ≥ŸáŸÖ ÿßŸÑÿ£ŸáÿØÿßŸÅ",
                    icon: "üèπ",
                    experiments: [
                        { id: 9, name: "ÿ®ÿ¶ÿ± ÿßŸÑÿ™ŸÖŸÜŸä vs ÿÆÿ±Ÿäÿ∑ÿ© ÿßŸÑŸáÿØŸÅ", type: "comparison" },
                        { id: 10, name: "ÿßÿÆÿ™ÿ®ÿßÿ± SMART ŸÑŸÑÿ£ŸáÿØÿßŸÅ", type: "quiz" },
                        { id: 11, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑÿ£ŸáÿØÿßŸÅ 90 ŸäŸàŸÖÿßŸã", type: "planner" },
                        { id: 12, name: "ÿ≥ÿ¨ŸÑ ÿßŸÑŸÅÿ¥ŸÑ", type: "journal" },
                        { id: 13, name: "ŸÑÿπÿ®ÿ©: ÿßŸÑŸÜÿ¨ÿßÿ≠ ŸÖŸÜ ÿßŸÑŸÅÿ¥ŸÑ", type: "game" },
                        { id: 14, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑÿµÿ®ÿ± ÿßŸÑÿßÿ≥ÿ™ÿ±ÿßÿ™Ÿäÿ¨Ÿä", type: "calculator" }
                    ]
                },
                {
                    id: 3,
                    title: "ÿßŸÑÿ™Ÿàÿßÿ≤ŸÜ ŸÅŸä ÿπÿµÿ± ÿßŸÑÿ•ŸÑŸá  ÿ°",
                    icon: "‚öñÔ∏è",
                    experiments: [
                        { id: 15, name: "ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÇÿ™ÿµÿßÿØ ÿßŸÑÿßŸÜÿ™ÿ®ÿß    ", type: "quiz" },
                        { id: 16, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑÿ™ŸÉŸÑŸÅÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ©", type: "calculator" },
                        { id: 17, name: "ŸÖÿÆÿ∑ÿ∑ 7 ÿ£ŸäÿßŸÖ ÿ®ÿØŸàŸÜ ÿ≥Ÿàÿ¥ŸäÿßŸÑ ŸÖŸäÿØŸäÿß", type: "challenge" },
                        { id: 18, name: "ÿßÿÆÿ™ÿ®ÿßÿ± FOMO", type: "quiz" },
                        { id: 19, name: "ŸÑÿπÿ®ÿ©: ÿßŸÑŸÅÿ±ÿµ ÿßŸÑŸÖŸÅŸÇŸàÿØÿ©", type: "game" },
                        { id: 20, name: "ŸÖŸÇŸäÿßÿ≥ ÿßŸÑŸàŸáŸÖ ÿßŸÑÿ±ŸÇŸÖŸä", type: "assessment" },
                        { id: 21, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑŸàŸÇÿ™ ÿßŸÑÿ∂ÿßÿ¶ÿπ", type: "calculator" },
                        { id: 22, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑÿ•ŸäŸÇÿßÿπ ÿßŸÑŸäŸàŸÖŸä", type: "planner" },
                        { id: 23, name: "ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿ≠Ÿäÿßÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ©", type: "quiz" }
                    ]
                },
                {
                    id: 4,
                    title: "ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ ÿßŸÑÿπŸÖŸÑŸä ÿßŸÑŸÖÿ™ŸÇÿØŸÖ",
                    icon: "üíª",
                    experiments: [
                        { id: 24, name: "ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿπŸÇŸÑŸäÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ©", type: "quiz" },
                        { id: 25, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑÿ™ÿÆŸÑÿµ ÿßŸÑÿ±ŸÇŸÖŸä", type: "planner" },
                        { id: 26, name: "ÿ≥ÿ¨ŸÑ ÿßŸÑÿπÿßÿØÿßÿ™ 21 ŸäŸàŸÖÿßŸã", type: "tracker" },
                        { id: 27, name: "ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑŸÖŸáÿßÿ±ÿßÿ™ ÿßŸÑÿ±ŸÇŸÖŸäÿ©", type: "quiz" },
                        { id: 28, name: "ŸÖÿµŸÅŸàŸÅÿ© ÿßŸÑŸÖŸáÿßÿ±ÿßÿ™", type: "tool" },
                        { id: 29, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑÿ™ÿπŸÑŸÖ 6 ÿ£ÿ¥Ÿáÿ±", type: "planner" },
                        { id: 30, name: "ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿπŸÑÿßŸÇÿßÿ™ ÿßŸÑÿ±ŸÇŸÖŸäÿ©", type: "quiz" },
                        { id: 31, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ÿ¨ŸàÿØÿ© ÿßŸÑÿ™Ÿàÿß  ŸÑ", type: "calculator" },
                        { id: 32, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑ  ÿØŸàÿØ ÿßŸÑÿ±ŸÇŸÖŸäÿ© ŸÑŸÑÿπÿßÿ¶ŸÑÿ©", type: "planner" },
                        { id: 33, name: "ÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑÿµÿ≠ÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ©", type: "quiz" },
                        { id: 34, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑÿ™Ÿàÿßÿ≤ŸÜ ÿßŸÑÿ±ŸÇŸÖŸä", type: "planner" },
                        { id: 35, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑŸÖÿ≥ÿßŸáŸÖÿ© ÿßŸÑÿ•Ÿäÿ¨ÿßÿ®Ÿäÿ©", type: "calculator" }
                    ]
                },
                {
                    id: 5,
                    title: "ÿπŸÖŸÇ ÿßŸÑÿ™ÿ≠ŸàŸÑ ÿßŸÑÿ¥ÿÆÿµŸä",
                    icon: "üß†",
                    experiments: [
                        { id: 36, name: "ÿßÿÆÿ™ÿ®ÿßÿ± ŸÜŸàÿπ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ", type: "quiz" },
                        { id: 37, name: "ÿ™ŸÖÿ±ŸäŸÜ: ŸäŸàŸÖŸäÿß   ÿßŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ", type: "journal" },
                        { id: 38, name: "ŸÑÿπÿ®ÿ© ÿßŸÑŸÖÿπÿ∂ŸÑÿßÿ™ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸäÿ©", type: "game" },
                        { id: 39, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©", type: "calculator" },
                        { id: 40, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ¥ÿÆÿµŸä", type: "planner" },
                        { id: 41, name: "ÿ≥ÿ¨ŸÑ ÿßŸÑŸÇÿ±ÿßÿ°ÿ©", type: "tracker" },
                        { id: 42, name: "ŸÑÿπÿ®ÿ©: ÿßŸÑÿ™ÿ≠ÿØŸä ÿßŸÑÿ•ÿ®ÿØÿßÿπŸä", type: "game" },
                        { id: 43, name: "ŸÖÿÆÿ∑ÿ∑ ÿßŸÑÿµŸäÿßŸÜÿ© ÿßŸÑÿØŸàÿ±Ÿäÿ©", type: "planner" },
                        { id: 44, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ŸÜÿ∏ÿßŸÖ ÿßŸÑÿπŸÖŸÑ ÿßŸÑÿµÿ≠Ÿä", type: "calculator" },
                        { id: 45, name: "ŸÑŸàÿ≠ÿ© ŸÖÿ§ÿ¥ÿ±ÿßÿ™ ÿßŸÑÿ£ÿØÿßÿ°", type: "dashboard" },
                        { id: 46, name: "ŸÖÿÆÿ∑ÿ∑ 12 ÿ¥Ÿáÿ±ÿßŸã", type: "planner" },
                        { id: 47, name: "ÿ≠ÿßÿ≥ÿ®ÿ© ŸÖÿ§ÿ¥ÿ± ÿßŸÑÿ¨ŸàÿØÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ©", type: "calculator" },
                        { id: 48, name: "ÿßŸÑÿ≥ÿ§ÿßŸÑ ÿßŸÑÿ£ÿÆŸäÿ±: ŸÖŸÜ ÿ£ŸÜÿ™ÿü", type: "reflection" }
                    ]
                }
            ]
        };

        // State management
        let currentPage = 'home';
        let completedExperiments = [];
        let userProgress = {};

        // Data SDK implementation
        const dataHandler = {
            onDataChanged(data) {
                completedExperiments = data.filter(item => item.completed);
                updateProgressDisplay();
            }
        };

        // Initialize SDKs
        async function initApp() {
            // Initialize Data SDK
            const dataResult = await window.dataSdk.init(dataHandler);
            if (!dataResult.isOk) {
                console.error("Failed to initialize data SDK");
            }

            // Initialize Element SDK
            if (window.elementSdk) {
                window.elementSdk.init({
                    defaultConfig,
                    onConfigChange: async (config) => {
                        document.documentElement.style.setProperty('--bg-color', config.background_color || defaultConfig.background_color);
                        document.documentElement.style.setProperty('--primary-color', config.primary_color || defaultConfig.primary_color);
                        document.documentElement.style.setProperty('--accent-color', config.accent_color || defaultConfig.accent_color);
                        
                        const fontFamily = config.font_family || defaultConfig.font_family;
                        document.body.style.fontFamily = `${fontFamily}, sans-serif`;
                        
                        render();
                    },
                    mapToCapabilities: (config) => ({
                        recolorables: [
                            {
                                get: () => config.background_color || defaultConfig.background_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ background_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.primary_color || defaultConfig.primary_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ primary_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.accent_color || defaultConfig.accent_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ accent_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.success_color || defaultConfig.success_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ success_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.text_color || defaultConfig.text_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.setConfig({ text_color: value });
                                    }
                                }
                            }
                        ],
                        borderables: [],
                        fontEditable: {
                            get: () => config.font_family || defaultConfig.font_family,
                            set: (value) => {
                                if (window.elementSdk) {
                                    window.elementSdk.setConfig({ font_family: value });
                                }
                            }
                        },
                        fontSizeable: undefined
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ["book_title", config.book_title || defaultConfig.book_title],
                        ["book_subtitle", config.book_subtitle || defaultConfig.book_subtitle],
                        ["author_name", config.author_name || defaultConfig.author_name],
                        ["book_price", config.book_price || defaultConfig.book_price],
                        ["discount_price", config.discount_price || defaultConfig.discount_price],
                        ["primary_button_text", config.primary_button_text || defaultConfig.primary_button_text],
                        ["secondary_button_text", config.secondary_button_text || defaultConfig.secondary_button_text]
                    ])
                });
            }

            render();
        }

        function getConfig() {
            return window.elementSdk?.config || defaultConfig;
        }

        function updateProgressDisplay() {
            const totalExperiments = 48;
            const completed = completedExperiments.length;
            const percentage = Math.round((completed / totalExperiments) * 100);
            
            const progressElements = document.querySelectorAll('.progress-percentage');
            progressElements.forEach(el => {
                el.textContent = `${percentage}%`;
            });
            
            const progressBars = document.querySelectorAll('.progress-bar-fill');
            progressBars.forEach(bar => {
                bar.style.width = `${percentage}%`;
            });
        }

        function renderNavbar() {
            const config = getConfig();
            return `
                <nav class="bg-gray-900 bg-opacity-95 backdrop-blur-sm border-b border-gray-800 sticky top-0 z-50">
                    <div class="container mx-auto px-4 py-4">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-3 cursor-pointer" onclick="navigateTo('home')">
                                <div class="flex items-center justify-center">
                                    <svg width="40" height="40" viewBox="0 0 100 100" class="text-orange-500">
                                        <circle cx="50" cy="25" r="10" fill="none" stroke="currentColor" stroke-width="3"/>
                                        <line x1="50" y1="35" x2="50" y2="70" stroke="currentColor" stroke-width="3"/>
                                        <line x1="30" y1="50" x2="70" y2="50" stroke="currentColor" stroke-width="3"/>
                                        <circle cx="30" cy="50" r="4" fill="currentColor"/>
                                        <circle cx="70" cy="50" r="4" fill="currentColor"/>
                                        <path d="M 35 60 Q 35 80, 50 80 Q 65 80, 65 60" fill="none" stroke="currentColor" stroke-width="3"/>
                                        <line x1="50" y1="70" x2="35" y2="60" stroke="currentColor" stroke-width="3"/>
                                        <line x1="50" y1="70" x2="65" y2="60" stroke="currentColor" stroke-width="3"/>
                                    </svg>
                                </div>
                                <div>
                                    <h1 class="text-white font-bold text-base leading-tight">${t('digitalAnchor')}</h1>
                                </div>
                            </div>
                            <div class="hidden lg:flex items-center gap-6">
                                <a onclick="navigateTo('home')" class="nav-link text-gray-300 hover:text-white cursor-pointer ${currentPage === 'home' ? 'active text-white' : ''}">${t('home')}</a>
                                <a onclick="navigateTo('lab')" class="nav-link text-gray-300 hover:text-white cursor-pointer ${currentPage === 'lab' ? 'active text-white' : ''}">${t('lab')}</a>
                                <a onclick="navigateTo('pricing')" class="nav-link text-gray-300 hover:text-white cursor-pointer ${currentPage === 'pricing' ? 'active text-white' : ''}">${t('pricing')}</a>
                                <a onclick="navigateTo('booking')" class="nav-link text-gray-300 hover:text-white cursor-pointer ${currentPage === 'booking' ? 'active text-white' : ''}">${t('booking')}</a>
                                <a onclick="navigateTo('images')" class="nav-link text-gray-300 hover:text-white cursor-pointer ${currentPage === 'images' ? 'active text-white' : ''}">${t('images')}</a>
                                <a onclick="navigateTo('dashboard')" class="nav-link text-gray-300 hover:text-white cursor-pointer ${currentPage === 'dashboard' ? 'active text-white' : ''}">${t('dashboard')}</a>
                                
                                <div class="flex items-center gap-3 ${currentLanguage === 'ar' ? 'border-l' : 'border-r'} border-gray-700 ${currentLanguage === 'ar' ? 'pl-6 ml-3' : 'pr-6 mr-3'}">
                                    <select onchange="changeCurrency(this.value)" class="bg-gray-800 text-white px-3 py-1 rounded-lg text-sm border border-gray-700">
                                        ${Object.keys(currencies).map(curr => `
                                            <option value="${curr}" ${currentCurrency === curr ? 'selected' : ''}>${curr}</option>
                                        `).join('')}
                                    </select>
                                    <select onchange="changeLanguage(this.value)" class="bg-gray-800 text-white px-3 py-1 rounded-lg text-sm border border-gray-700">
                                        <option value="ar" ${currentLanguage === 'ar' ? 'selected' : ''}>ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                                        <option value="en" ${currentLanguage === 'en' ? 'selected' : ''}>English</option>
                                        <option value="fr" ${currentLanguage === 'fr' ? 'selected' : ''}>Fran√ßais</option>
                                        <option value="de" ${currentLanguage === 'de' ? 'selected' : ''}>Deutsch</option>
                                    </select>
                                </div>
                            </div>
                            <button onclick="toggleMobileMenu()" class="lg:hidden text-white">
                                <i class="fas fa-bars text-xl"></i>
                            </button>
                        </div>
                        <div id="mobile-menu" class="hidden lg:hidden mt-4 pb-4 border-t border-gray-800 pt-4">
                            <div class="flex flex-col gap-3">
                                <a onclick="navigateTo('home')" class="text-gray-300 hover:text-white cursor-pointer">${t('home')}</a>
                                <a onclick="navigateTo('lab')" class="text-gray-300 hover:text-white cursor-pointer">${t('lab')}</a>
                                <a onclick="navigateTo('pricing')" class="text-gray-300 hover:text-white cursor-pointer">${t('pricing')}</a>
                                <a onclick="navigateTo('booking')" class="text-gray-300 hover:text-white cursor-pointer">${t('booking')}</a>
                                <a onclick="navigateTo('images')" class="text-gray-300 hover:text-white cursor-pointer">${t('images')}</a>
                                <a onclick="navigateTo('dashboard')" class="text-gray-300 hover:text-white cursor-pointer">${t('dashboard')}</a>
                                <div class="flex gap-2 pt-2 border-t border-gray-700">
                                    <select onchange="changeCurrency(this.value)" class="flex-1 bg-gray-800 text-white px-3 py-2 rounded-lg text-sm">
                                        ${Object.keys(currencies).map(curr => `<option value="${curr}" ${currentCurrency === curr ? 'selected' : ''}>${curr}</option>`).join('')}
                                    </select>
                                    <select onchange="changeLanguage(this.value)" class="flex-1 bg-gray-800 text-white px-3 py-2 rounded-lg text-sm">
                                        <option value="ar" ${currentLanguage === 'ar' ? 'selected' : ''}>ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                                        <option value="en" ${currentLanguage === 'en' ? 'selected' : ''}>English</option>
                                        <option value="fr" ${currentLanguage === 'fr' ? 'selected' : ''}>Fran√ßais</option>
                                        <option value="de" ${currentLanguage === 'de' ? 'selected' : ''}>Deutsch</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            `;
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        function renderHomePage() {
            const config = getConfig();
            const totalExperiments = 48;
            const completed = completedExperiments.length;
            const percentage = Math.round((completed / totalExperiments) * 100);

            return `
                <div class="fade-in">
                    <!-- Hero Section -->
                    <section class="hero-gradient text-white py-20 px-4">
                        <div class="container mx-auto max-w-6xl">
                            <div class="grid md:grid-cols-2 gap-12 items-center">
                                <div>
                                    <div class="inline-block bg-orange-500 text-white px-4 py-2 rounded-full text-sm font-bold mb-6">
                                        ‚ú® ${currentLanguage === 'ar' ? 'ÿØŸÑŸäŸÑŸÉ ÿßŸÑÿπŸÖŸÑŸä ŸÑŸÑÿ≠Ÿäÿßÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ© ŸÅŸä ÿßŸÑÿπÿµÿ± ÿßŸÑÿ±ŸÇŸÖŸä' : currentLanguage === 'de' ? 'Ihr praktischer Leitfaden f√ºr das echte Leben im digitalen Zeitalter' : currentLanguage === 'fr' ? 'Votre guide pratique pour la vraie vie √† l\'√®re num√©rique' : 'Your practical guide to real life in the digital age'}
                                    </div>
                                    <h1 class="text-5xl md:text-6xl font-bold mb-6 leading-tight">
                                        ${t('whoAreYou')}
                                    </h1>
                                    <p class="text-xl text-blue-100 mb-8 leading-relaxed">
                                        ${config.book_subtitle || defaultConfig.book_subtitle}
                                    </p>
                                    <div class="flex flex-col sm:flex-row gap-4">
                                        <button onclick="navigateTo('pricing')" class="pulse-button bg-orange-500 hover:bg-orange-600 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all shadow-lg hover:shadow-xl">
                                            ${currentLanguage === 'ar' ? 'ÿßÿ®ÿØÿ£ ÿ±ÿ≠ŸÑÿ™ŸÉ ÿßŸÑÿ¢ŸÜ' : currentLanguage === 'de' ? 'Beginnen Sie jetzt Ihre Reise' : currentLanguage === 'fr' ? 'Commencez votre voyage maintenant' : 'Start Your Journey Now'} üöÄ
                                        </button>
                                        <button onclick="navigateTo('lab')" class="bg-white bg-opacity-10 hover:bg-opacity-20 text-white px-8 py-4 rounded-lg font-bold text-lg transition-all border-2 border-white border-opacity-30">
                                            ${currentLanguage === 'ar' ? 'ÿ™ÿπÿ±ŸëŸÅ ÿπŸÑŸâ ÿßŸÑŸÉÿ™ÿßÿ®' : currentLanguage === 'de' ? 'Lernen Sie das Buch kennen' : currentLanguage === 'fr' ? 'D√©couvrez le livre' : 'Learn About the Book'}
                                        </button>
                                    </div>
                                </div>
                                <div class="relative flex justify-center">
                                    <img src="https://i.imgur.com/6RCFJtY.png" alt="${t('digitalAnchor')}" class="max-w-full h-auto rounded-2xl shadow-2xl" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                    <div class="hidden screen-off bg-gradient-to-br from-blue-900 via-purple-900 to-gray-900 p-8 rounded-3xl shadow-2xl border-4 border-gray-700 relative overflow-hidden">
                                        <div class="bg-black rounded-3xl p-6 relative" style="aspect-ratio: 9/16; max-width: 350px; margin: 0 auto;">
                                            <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-32 h-7 bg-black rounded-b-3xl z-10"></div>
                                            <div class="relative bg-gradient-to-br from-gray-900 via-gray-800 to-black h-full rounded-2xl overflow-hidden flex flex-col items-center justify-center p-8">
                                                <div class="absolute inset-0 bg-black opacity-60"></div>
                                                <div class="absolute top-8 left-1/2 transform -translate-x-1/2 w-full px-8">
                                                    <div class="grid grid-cols-4 gap-3 opacity-30">
                                                        <div class="bg-blue-600 rounded-2xl aspect-square flex items-center justify-center">
                                                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
                                                            </svg>
                                                        </div>
                                                        <div class="bg-gradient-to-br from-purple-600 via-pink-600 to-orange-500 rounded-2xl aspect-square flex items-center justify-center">
                                                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                                                            </svg>
                                                        </div>
                                                        <div class="bg-blue-400 rounded-2xl aspect-square flex items-center justify-center">
                                                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                                <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                                                            </svg>
                                                        </div>
                                                        <div class="bg-red-600 rounded-2xl aspect-square flex items-center justify-center">
                                                            <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                                                                <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="relative z-10 flex flex-col items-center justify-center space-y-6">
                                                    <div class="relative">
                                                        <svg width="100" height="100" viewBox="0 0 100 100" class="text-orange-500 drop-shadow-2xl">
                                                            <circle cx="50" cy="25" r="10" fill="none" stroke="currentColor" stroke-width="3"/>
                                                            <line x1="50" y1="35" x2="50" y2="70" stroke="currentColor" stroke-width="3"/>
                                                            <line x1="30" y1="50" x2="70" y2="50" stroke="currentColor" stroke-width="3"/>
                                                            <circle cx="30" cy="50" r="4" fill="currentColor"/>
                                                            <circle cx="70" cy="50" r="4" fill="currentColor"/>
                                                            <path d="M 35 60 Q 35 80, 50 80 Q 65 80, 65 60" fill="none" stroke="currentColor" stroke-width="3"/>
                                                            <line x1="50" y1="70" x2="35" y2="60" stroke="currentColor" stroke-width="3"/>
                                                            <line x1="50" y1="70" x2="65" y2="60" stroke="currentColor" stroke-width="3"/>
                                                        </svg>
                                                    </div>
                                                    <div class="text-center space-y-3 px-4">
                                                        <h3 class="text-white text-2xl font-bold leading-tight">
                                                            ${t('whoAreYou').split('ÿü')[0]}ÿü
                                                        </h3>
                                                        <p class="text-gray-400 text-sm font-medium">
                                                            ${t('digitalAnchor')}
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2">
                                                    <div class="w-12 h-12 rounded-full bg-gray-800 border-2 border-gray-600 flex items-center justify-center opacity-40">
                                                        <div class="w-6 h-6 rounded-full bg-gray-700"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Stats Section -->
                    <section class="bg-gray-900 py-16 px-4">
                        <div class="container mx-auto max-w-6xl">
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                                <div class="stats-card text-center p-6 rounded-xl">
                                    <div class="text-4xl md:text-5xl font-bold text-blue-400 mb-2">5</div>
                                    <div class="text-gray-300 font-semibold">${t('parts')}</div>
                                </div>
                                <div class="stats-card text-center p-6 rounded-xl">
                                    <div class="text-4xl md:text-5xl font-bold text-orange-400 mb-2">24</div>
                                    <div class="text-gray-300 font-semibold">${t('chapters')}</div>
                                </div>
                                <div class="stats-card text-center p-6 rounded-xl">
                                    <div class="text-4xl md:text-5xl font-bold text-green-400 mb-2">48</div>
                                    <div class="text-gray-300 font-semibold">${t('experiences')}</div>
                                </div>
                                <div class="stats-card text-center p-6 rounded-xl">
                                    <div class="text-4xl md:text-5xl font-bold text-purple-400 mb-2">${percentage}%</div>
                                    <div class="text-gray-300 font-semibold">${t('totalProgress')}</div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- CTA Section -->
                    <section class="bg-gradient-to-r from-blue-600 to-orange-600 py-20 px-4">
                        <div class="container mx-auto max-w-4xl text-center">
                            <h2 class="text-4xl md:text-5xl font-bold text-white mb-6">${t('readyToTransform')}</h2>
                            <p class="text-xl text-blue-50 mb-8">${t('startJourney')}</p>
                            <button onclick="navigateTo('pricing')" class="bg-white text-blue-600 px-12 py-5 rounded-full font-bold text-xl hover:scale-105 transition-transform shadow-2xl">
                                ${t('bookYourCopy')} üéØ
                            </button>
                        </div>
                    </section>
                </div>
            `;
        }

        function renderLabPage(selectedPartId = null) {
            const config = getConfig();
            return `
                <div class="bg-gray-900 min-h-screen py-12 px-4 fade-in">
                    <div class="container mx-auto max-w-6xl">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">${t('interactiveLab')}</h1>
                            <p class="text-xl text-gray-300">48 ${t('practicalExperiments')}</p>
                            <div class="mt-6 inline-block bg-gray-800 rounded-full px-6 py-3">
                                <span class="text-gray-400">${t('yourProgress')}: </span>
                                <span class="text-orange-400 font-bold progress-percentage">${Math.round((completedExperiments.length / 48) * 100)}%</span>
                                <span class="text-gray-400"> (${completedExperiments.length}/48)</span>
                            </div>
                        </div>

                        ${bookStructure.parts.map(part => `
                            <div class="mb-12 fade-in">
                                <div class="bg-gradient-to-r from-blue-600 to-orange-600 rounded-2xl p-6 mb-6">
                                    <div class="flex items-center justify-between">
                                        <div class="flex items-center gap-4">
                                            <span class="text-5xl">${part.icon}</span>
                                            <div>
                                                <div class="text-sm text-blue-100 font-bold">${t('part')} ${part.id}</div>
                                                <h2 class="text-3xl font-bold text-white">${part.title}</h2>
                                            </div>
                                        </div>
                                        <div class="text-${currentLanguage === 'ar' ? 'left' : 'right'}">
                                            <div class="text-2xl font-bold text-white">${completedExperiments.filter(e => part.experiments.some(exp => exp.id === e.experiment_id)).length}/${part.experiments.length}</div>
                                            <div class="text-sm text-blue-100">${t('completed')}</div>
                                        </div>
                                    </div>
                                </div>

                                <div class="grid gap-4">
                                    ${part.experiments.map(exp => {
                                        const isCompleted = completedExperiments.some(e => e.experiment_id === exp.id);
                                        const typeIcons = {
                                            quiz: 'üìù',
                                            calculator: 'üßÆ',
                                            planner: 'üìÖ',
                                            journal: 'üìî',
                                            game: 'üéÆ',
                                            tool: 'üîß',
                                            tracker: 'üìä',
                                            challenge: '‚ö°',
                                            interactive: '‚ú®',
                                            comparison: '‚öñÔ∏è',
                                            assessment: 'üìà',
                                            dashboard: 'üìä',
                                            reflection: 'ü§î'
                                        };
                                        return `
                                            <div class="experiment-card ${isCompleted ? 'completed' : ''} bg-gray-800 rounded-xl p-6 cursor-pointer" onclick="openExperiment(${exp.id})">
                                                <div class="flex items-center justify-between">
                                                    <div class="flex items-center gap-4 flex-1">
                                                        <div class="experiment-number w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-lg flex-shrink-0">
                                                            ${exp.id}
                                                        </div>
                                                        <div class="flex-1">
                                                            <h3 class="text-lg font-bold text-white mb-1">${exp.name}</h3>
                                                            <div class="flex items-center gap-2 text-sm text-gray-400">
                                                                <span>${typeIcons[exp.type] || '‚ú®'}</span>
                                                                <span>${getTypeLabel(exp.type)}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center gap-3">
                                                        ${isCompleted ? '<span class="text-green-400 text-2xl">‚úì</span>' : `<i class="fas fa-arrow-${currentLanguage === 'ar' ? 'left' : 'right'} text-gray-500"></i>`}
                                                    </div>
                                                </div>
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderPricingPage() {
            const config = getConfig();
            return `
                <div class="bg-gray-900 min-h-screen py-12 px-4 fade-in">
                    <div class="container mx-auto max-w-6xl">
                        <div class="text-center mb-16">
                            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">${t('investInTransformation')}</h1>
                            <p class="text-xl text-gray-300">${t('getFullBook')}</p>
                        </div>

                        <div class="grid md:grid-cols-3 gap-8 mb-12">
                            <!-- Digital Edition -->
                            <div class="bg-gray-800 rounded-2xl p-8 border-2 border-gray-700 hover:border-blue-500 transition-all">
                                <div class="text-4xl mb-4">üì±</div>
                                <h3 class="text-2xl font-bold text-white mb-2">${t('digitalEdition')}</h3>
                                <p class="text-gray-400 mb-6">PDF + ePub + Mobi</p>
                                <div class="mb-6">
                                    <div class="text-3xl font-bold text-white">${formatPrice(config.discount_price || defaultConfig.discount_price)}</div>
                                    <div class="text-gray-400 line-through">${formatPrice(config.book_price || defaultConfig.book_price)}</div>
                                </div>
                                <ul class="space-y-3 mb-8 text-gray-300">
                                    <li class="flex items-center gap-2"><span class="text-green-400">‚úì</span> ${currentLanguage === 'ar' ? 'ÿßŸÑŸÉ  ÿßÿ® ÿßŸÑŸÉÿßŸÖŸÑ (24   ÿµŸÑ)' : currentLanguage === 'de' ? 'Vollst√§ndiges Buch (24 Kapitel)' : currentLanguage === 'fr' ? 'Livre complet (24 chapitres)' : 'Complete Book (24 Chapters)'}</li>
                                    <li class="flex items-center gap-2"><span class="text-green-400">‚úì</span> 48 ${t('experiences')}</li>
                                    <li class="flex items-center gap-2"><span class="text-green-400">‚úì</span> ${currentLanguage === 'ar' ? 'ÿ™ÿ≠ÿØŸäÿ´ÿßÿ™ ŸÖÿ¨ÿßŸÜŸäÿ©' : currentLanguage === 'de' ? 'Kostenlose Updates' : currentLanguage === 'fr' ? 'Mises √† jour gratuites' : 'Free Updates'}</li>
                                    <li class="flex items-center gap-2"><span class="text-green-400">‚úì</span> ${currentLanguage === 'ar' ? 'ÿØÿπŸÖ ŸÅŸÜŸä' : currentLanguage === 'de' ? 'Technischer Support' : currentLanguage === 'fr' ? 'Support technique' : 'Technical Support'}</li>
                                </ul>
                                <button onclick="navigateTo('booking', 'digital')" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-bold">
                                    ${t('bookNow')}
                                </button>
                            </div>

                            <!-- Premium Edition -->
                            <div class="bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-8 border-4 border-orange-400 relative transform scale-105 shadow-2xl">
                                <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                                    <span class="bg-yellow-400 text-gray-900 px-4 py-1 rounded-full text-sm font-bold">${t('mostPopular')}</span>
                                </div>
                                <div class="text-4xl mb-4">üéÅ</div>
                                <h3 class="text-2xl font-bold text-white mb-2">${t('premiumEdition')}</h3>
                                <p class="text-orange-100 mb-6">${currentLanguage === 'ar' ? 'ÿ±ŸÇŸÖŸäÿ© + Ÿàÿ±ŸÇŸäÿ© + ŸáÿØÿßŸäÿß' : currentLanguage === 'de' ? 'Digital + Druck + Geschenke' : currentLanguage === 'fr' ? 'Num√©rique + Imprim√© + Cadeaux' : 'Digital + Print + Gifts'}</p>
                                <div class="mb-6">
                                    <div class="text-3xl font-bold text-white">${formatPrice(Math.round(parseFloat(config.discount_price || defaultConfig.discount_price) * 1.8))}</div>
                                    <div class="text-orange-200 line-through">${formatPrice(Math.round(parseFloat(config.book_price || defaultConfig.book_price) * 2))}</div>
                                </div>
                                <ul class="space-y-3 mb-8 text-white">
                                    <li class="flex items-center gap-2"><span class="text-yellow-300">‚úì</span> ${currentLanguage === 'ar' ? 'ŸÉŸÑ ŸÖÿß ŸÅŸä ÿßŸÑŸÜÿ≥ÿÆÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ©' : currentLanguage === 'de' ? 'Alles aus der digitalen Ausgabe' : currentLanguage === 'fr' ? 'Tout de l\'√©dition num√©rique' : 'Everything from Digital Edition'}</li>
                                    <li class="flex items-center gap-2"><span class="text-yellow-300">‚úì</span> ${currentLanguage === 'ar' ? 'ŸÜÿ≥ÿÆÿ© Ÿàÿ±ŸÇŸäÿ© ŸÅÿßÿÆÿ±ÿ©' : currentLanguage === 'de' ? 'Luxus-Druckausgabe' : currentLanguage === 'fr' ? '√âdition imprim√©e de luxe' : 'Luxury Print Edition'}</li>
                                    <li class="flex items-center gap-2"><span class="text-yellow-300">‚úì</span> ${currentLanguage === 'ar' ? 'ÿØŸÅÿ™ÿ± ÿßŸÑÿ™ÿ≠ŸàŸÑ ÿßŸÑÿ¥ÿÆÿµŸä' : currentLanguage === 'de' ? 'Pers√∂nliches Transformationstagebuch' : currentLanguage === 'fr' ? 'Journal de transformation personnel' : 'Personal Transformation Journal'}</li>
                                    <li class="flex items-center gap-2"><span class="text-yellow-300">‚úì</span> ${currentLanguage === 'ar' ? '10 ÿµŸàÿ± ŸÇÿßÿ®ŸÑÿ© ŸÑŸÑÿ∑ÿ®ÿßÿπÿ©' : currentLanguage === 'de' ? '10 druckbare Bilder' : currentLanguage === 'fr' ? '10 images imprimables' : '10 Printable Images'}</li>
                                    <li class="flex items-center gap-2"><span class="text-yellow-300">‚úì</span> ${currentLanguage === 'ar' ? 'ÿ¨ŸÑÿ≥ÿ© ÿßÿ≥ÿ™ÿ¥ÿßÿ±Ÿäÿ© (30 ÿØŸÇŸäŸÇÿ©)' : currentLanguage === 'de' ? 'Beratungssitzung (30 Min)' : currentLanguage === 'fr' ? 'Session de consultation (30 min)' : 'Consultation Session (30 min)'}</li>
                                </ul>
                                <button onclick="navigateTo('booking', 'premium')" class="w-full bg-white text-orange-600 py-3 rounded-lg font-bold hover:bg-orange-50">
                                    ${t('bookNow')} üöÄ
                                </button>
                            </div>

                            <!-- Print Edition -->
                            <div class="bg-gray-800 rounded-2xl p-8 border-2 border-gray-700 hover:border-blue-500 transition-all">
                                <div class="text-4xl mb-4">üìö</div>
                                <h3 class="text-2xl font-bold text-white mb-2">${t('printEdition')}</h3>
                                <p class="text-gray-400 mb-6">${currentLanguage === 'ar' ? 'ŸÉÿ™ÿßÿ® ŸÖÿ∑ÿ®Ÿàÿπ ŸÅÿßÿÆÿ±' : currentLanguage === 'de' ? 'Luxus-Druckbuch' : currentLanguage === 'fr' ? 'Livre imprim√© de luxe' : 'Luxury Printed Book'}</p>
                                <div class="mb-6">
                                    <div class="text-3xl font-bold text-white">${formatPrice(Math.round(parseFloat(config.discount_price || defaultConfig.discount_price) * 1.5))}</div>
                                    <div class="text-gray-400 line-through">${formatPrice(Math.round(parseFloat(config.book_price || defaultConfig.book_price) * 1.6))}</div>
                                </div>
                                <ul class="space-y-3 mb-8 text-gray-300">
                                    <li class="flex items-center gap-2"><span class="text-green-400">‚úì</span> ${currentLanguage === 'ar' ? 'ŸÜÿ≥ÿÆÿ© Ÿàÿ±ŸÇŸäÿ© ÿπÿßŸÑŸäÿ© ÿßŸÑÿ¨ŸàÿØÿ©' : currentLanguage === 'de' ? 'Hochwertige Druckausgabe' : currentLanguage === 'fr' ? '√âdition imprim√©e de haute qualit√©' : 'High-Quality Print Edition'}</li>
                                    <li class="flex items-center gap-2"><span class="text-green-400">‚úì</span> ${currentLanguage === 'ar' ? 'ÿ∫ŸÑÿßŸÅ ŸÅÿßÿÆÿ±' : currentLanguage === 'de' ? 'Luxus-Einband' : currentLanguage === 'fr' ? 'Couverture de luxe' : 'Luxury Cover'}</li>
                                    <li class="flex items-center gap-2"><span class="text-green-400">‚úì</span> ${currentLanguage === 'ar' ? 'ÿ¥ÿ≠ŸÜ ŸÖÿ¨ÿßŸÜŸä' : currentLanguage === 'de' ? 'Kostenloser Versand' : currentLanguage === 'fr' ? 'Livraison gratuite' : 'Free Shipping'}</li>
                                    <li class="flex items-center gap-2"><span class="text-green-400">‚úì</span> ${currentLanguage === 'ar' ? 'ÿßŸÑŸÜÿ≥ÿÆÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ© ŸÖÿ¨ÿßŸÜÿßŸã' : currentLanguage === 'de' ? 'Digitale Ausgabe gratis' : currentLanguage === 'fr' ? '√âdition num√©rique gratuite' : 'Digital Edition Free'}</li>
                                </ul>
                                <button onclick="navigateTo('booking', 'print')" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-bold">
                                    ${t('bookNow')}
                                </button>
                            </div>
                        </div>

                        <!-- Guarantee -->
                        <div class="bg-gradient-to-r from-green-600 to-green-700 rounded-2xl p-8 text-center">
                            <h3 class="text-3xl font-bold text-white mb-4">${t('moneyBackGuarantee')}</h3>
                            <p class="text-green-50 text-lg">${t('notSatisfied')}</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderBookingPage(selectedPlan = 'digital') {
            const config = getConfig();
            const plans = {
                digital: { 
                    name: t('digitalEdition'), 
                    price: config.discount_price || defaultConfig.discount_price,
                    icon: 'üì±'
                },
                premium: { 
                    name: t('premiumEdition'), 
                    price: Math.round(parseFloat(config.discount_price || defaultConfig.discount_price) * 1.8),
                    icon: 'üéÅ'
                },
                print: { 
                    name: t('printEdition'), 
                    price: Math.round(parseFloat(config.discount_price || defaultConfig.discount_price) * 1.5),
                    icon: 'üìö'
                }
            };
            const selected = plans[selectedPlan] || plans.digital;

            return `
                <div class="bg-gray-900 min-h-screen py-12 px-4 fade-in">
                    <div class="container mx-auto max-w-4xl">
                        <h1 class="text-4xl md:text-5xl font-bold text-white mb-8 text-center">${t('bookNowTitle')}</h1>
                        
                        <div class="grid md:grid-cols-2 gap-8">
                            <!-- Booking Form -->
                            <div class="bg-gray-800 rounded-2xl p-8">
                                <h2 class="text-2xl font-bold text-white mb-6">${t('bookingInfo')}</h2>
                                <form id="booking-form" class="space-y-4">
                                    <div>
                                        <label class="block text-gray-300 mb-2 font-semibold" for="full-name">${t('fullName')} *</label>
                                        <input type="text" id="full-name" required class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2 font-semibold" for="email">${t('email')} *</label>
                                        <input type="email" id="email" required class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2 font-semibold" for="phone">${t('phone')} *</label>
                                        <input type="tel" id="phone" required class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                    </div>
                                    <div>
                                        <label class="block text-gray-300 mb-2 font-semibold" for="country">${t('country')} *</label>
                                        <select id="country" required class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                            <option value="">${t('selectCountry')}</option>
                                            <option value="SA">${currentLanguage === 'ar' ? 'ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©' : currentLanguage === 'de' ? 'Saudi-Arabien' : currentLanguage === 'fr' ? 'Arabie Saoudite' : 'Saudi Arabia'}</option>
                                            <option value="AE">${currentLanguage === 'ar' ? 'ÿßŸÑÿ•ŸÖÿßÿ±ÿßÿ™' : currentLanguage === 'de' ? 'VAE' : currentLanguage === 'fr' ? '√âmirats Arabes Unis' : 'UAE'}</option>
                                            <option value="EG">${currentLanguage === 'ar' ? 'ŸÖÿµÿ±' : currentLanguage === 'de' ? '√Ñgypten' : currentLanguage === 'fr' ? '√âgypte' : 'Egypt'}</option>
                                            <option value="JO">${currentLanguage === 'ar' ? 'ÿßŸÑÿ£ÿ±ÿØŸÜ' : currentLanguage === 'de' ? 'Jordanien' : currentLanguage === 'fr' ? 'Jordanie' : 'Jordan'}</option>
                                            <option value="KW">${currentLanguage === 'ar' ? 'ÿßŸÑŸÉŸàŸäÿ™' : currentLanguage === 'de' ? 'Kuwait' : currentLanguage === 'fr' ? 'Kowe√Øt' : 'Kuwait'}</option>
                                            <option value="QA">${currentLanguage === 'ar' ? 'ŸÇÿ∑ÿ±' : currentLanguage === 'de' ? 'Katar' : currentLanguage === 'fr' ? 'Qatar' : 'Qatar'}</option>
                                            <option value="BH">${currentLanguage === 'ar' ? 'ÿßŸÑÿ®ÿ≠ÿ±ŸäŸÜ' : currentLanguage === 'de' ? 'Bahrain' : currentLanguage === 'fr' ? 'Bahre√Øn' : 'Bahrain'}</option>
                                            <option value="OM">${currentLanguage === 'ar' ? 'ÿπŸÖÿßŸÜ' : currentLanguage === 'de' ? 'Oman' : currentLanguage === 'fr' ? 'Oman' : 'Oman'}</option>
                                            <option value="other">${currentLanguage === 'ar' ? 'ÿØŸàŸÑÿ© ÿ£ÿÆÿ±Ÿâ' : currentLanguage === 'de' ? 'Anderes Land' : currentLanguage === 'fr' ? 'Autre pays' : 'Other Country'}</option>
                                        </select>
                                    </div>
                                    ${selectedPlan === 'print' || selectedPlan === 'premium' ? `
                                    <div>
                                        <label class="block text-gray-300 mb-2 font-semibold" for="address">${t('address')} *</label>
                                        <textarea id="address" required rows="3" class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none"></textarea>
                                    </div>
                                    ` : ''}
                                    <div>
                                        <label class="block text-gray-300 mb-2 font-semibold" for="plan">${t('selectedPlan')}</label>
                                        <select id="plan" onchange="navigateTo('booking', this.value)" class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none">
                                            <option value="digital" ${selectedPlan === 'digital' ? 'selected' : ''}>üì± ${t('digitalEdition')}</option>
                                            <option value="premium" ${selectedPlan === 'premium' ? 'selected' : ''}>üéÅ ${t('premiumEdition')}</option>
                                            <option value="print" ${selectedPlan === 'print' ? 'selected' : ''}>üìö ${t('printEdition')}</option>
                                        </select>
                                    </div>
                                    <button type="submit" class="w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-4 rounded-lg font-bold text-lg transition-all">
                                        ${t('completeBooking')}
                                    </button>
                                </form>
                            </div>

                            <!-- Order Summary -->
                            <div class="space-y-6">
                                <div class="bg-gray-800 rounded-2xl p-8">
                                    <h2 class="text-2xl font-bold text-white mb-6">${t('orderSummary')}</h2>
                                    <div class="space-y-4">
                                        <div class="flex items-center gap-4 pb-4 border-b border-gray-700">
                                            <div class="text-4xl">${selected.icon}</div>
                                            <div class="flex-1">
                                                <div class="text-white font-bold">${selected.name}</div>
                                                <div class="text-gray-400 text-sm">${t('whoAreYou')}</div>
                                            </div>
                                        </div>
                                        <div class="flex justify-between text-gray-300">
                                            <span>${t('basePrice')}</span>
                                            <span>${formatPrice(selected.price)}</span>
                                        </div>
                                        <div class="flex justify-between text-green-400">
                                            <span>${t('discount')}</span>
                                            <span>-20%</span>
                                        </div>
                                        <div class="flex justify-between text-xl font-bold text-white pt-4 border-t border-gray-700">
                                            <span>${t('total')}</span>
                                            <span>${formatPrice(selected.price)}</span>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-blue-900 bg-opacity-30 border-2 border-blue-500 rounded-2xl p-6">
                                    <h3 class="text-white font-bold mb-3 flex items-center gap-2">
                                        <span>${t('securePayment')}</span>
                                    </h3>
                                    <p class="text-blue-200 text-sm">${t('securePaymentDesc')}</p>
                                </div>

                                <div class="bg-green-900 bg-opacity-30 border-2 border-green-500 rounded-2xl p-6">
                                    <h3 class="text-white font-bold mb-3 flex items-center gap-2">
                                        <span>${t('dayGuarantee')}</span>
                                    </h3>
                                    <p class="text-green-200 text-sm">${t('guaranteeDesc')}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderImagesPage() {
            const customizableImages = [
                { id: 1, text: currentLanguage === 'ar' ? 'ŸÖŸÜ ÿ£ŸÜÿ™ ÿ≠ŸäŸÜ\nÿ™ŸÜÿ∑ŸÅÿ¶ ÿßŸÑÿ¥ÿßÿ¥ÿ©  ' : currentLanguage === 'de' ? 'Wer bist du, wenn\nder Bildschirm ausgeht?' : currentLanguage === 'fr' ? 'Qui √™tes-vous quand\nl\'√©cran s\'√©teint?' : 'Who are you when\nthe screen goes off?', style: 'modern' },
                { id: 2, text: currentLanguage === 'ar' ? 'ÿßŸÑÿ≠Ÿäÿßÿ© ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ©\nÿ™ÿ®ÿØÿ£ ŸáŸÜÿß' : currentLanguage === 'de' ? 'Das echte Leben\nbeginnt hier' : currentLanguage === 'fr' ? 'La vraie vie\ncommence ici' : 'Real life\nstarts here', style: 'minimal' },
                { id: 3, text: currentLanguage === 'ar' ? 'ÿ™ŸàŸÇŸÅ\nÿ™ÿ£ŸÖŸÑ\nÿπÿ¥' : currentLanguage === 'de' ? 'Stopp\nDenk nach\nLebe' : currentLanguage === 'fr' ? 'Arr√™te\nR√©fl√©chis\nVis' : 'Stop\nReflect\nLive', style: 'bold' },
                { id: 4, text: currentLanguage === 'ar' ? 'ÿ£ŸÜÿ™ ÿ£ŸÉÿ´ÿ± ŸÖŸÜ\nŸÖÿ¨ÿ±ÿØ ÿ¥ÿßÿ¥ÿ©' : currentLanguage === 'de' ? 'Du bist mehr als\nnur ein Bildschirm' : currentLanguage === 'fr' ? 'Vous √™tes plus qu\'un\nsimple √©cran' : 'You are more than\njust a screen', style: 'elegant' },
                { id: 5, text: currentLanguage === 'ar' ? 'ÿßŸÑÿπÿßŸÑŸÖ ŸäŸÜÿ™ÿ∏ÿ±ŸÉ\nÿÆÿßÿ±ÿ¨ ÿßŸÑÿ¥ÿßÿ¥ÿ©' : currentLanguage === 'de' ? 'Die Welt wartet auf dich\nau√üerhalb des Bildschirms' : currentLanguage === 'fr' ? 'Le monde vous attend\nhors de l\'√©cran' : 'The world awaits you\noutside the screen', style: 'vibrant' },
                { id: 6, text: currentLanguage === 'ar' ? 'ÿßÿÆÿ™ÿ± ÿßŸÑ  ÿßŸÇÿπ\nŸÑŸäÿ≥ ÿßŸÑŸàŸáŸÖ' : currentLanguage === 'de' ? 'W√§hle die Realit√§t\nnicht die Illusion' : currentLanguage === 'fr' ? 'Choisissez la r√©alit√©\npas l\'illusion' : 'Choose reality\nnot illusion', style: 'contrast' }
            ];

            return `
                <div class="bg-gray-900 min-h-screen py-12 px-4 fade-in">
                    <div class="container mx-auto max-w-6xl">
                        <div class="text-center mb-12">
                            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4">${t('customizableImages')}</h1>
                            <p class="text-xl text-gray-300">${t('designYourImage')}</p>
                        </div>

                        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                            ${customizableImages.map(img => `
                                <div class="card-hover bg-gray-800 rounded-2xl p-6 cursor-pointer" onclick="customizeImage(${img.id})">
                                    ${generateImagePreview(img)}
                                    <div class="mt-4 text-center">
                                        <button class="bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg font-bold">
                                            ${t('customizeDownload')}
                                        </button>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <div class="mt-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-center">
                            <h3 class="text-3xl font-bold text-white mb-4">${t('createCustomImage')}</h3>
                            <p class="text-blue-50 text-lg mb-6">${t('writeYourText')}</p>
                            <button onclick="openCustomImageCreator()" class="bg-white text-blue-600 px-10 py-4 rounded-full font-bold text-lg hover:scale-105 transition-transform">
                                ${t('startDesign')}
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateImagePreview(img) {
            const styles = {
                modern: 'bg-gradient-to-br from-blue-600 to-purple-600',
                minimal: 'bg-gray-700',
                bold: 'bg-gradient-to-r from-orange-500 to-red-500',
                elegant: 'bg-gradient-to-br from-gray-800 to-gray-900 border-4 border-orange-500',
                vibrant: 'bg-gradient-to-br from-pink-500 via-purple-500 to-blue-500',
                contrast: 'bg-black border-4 border-white'
            };

            return `
                <div class="${styles[img.style]} aspect-square rounded-xl flex items-center justify-center p-8 relative overflow-hidden">
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute top-0 ${currentLanguage === 'ar' ? 'right' : 'left'}-0 w-32 h-32 bg-white rounded-full blur-3xl"></div>
                        <div class="absolute bottom-0 ${currentLanguage === 'ar' ? 'left' : 'right'}-0 w-40 h-40 bg-white rounded-full blur-3xl"></div>
                    </div>
                    <div class="relative z-10 text-center">
                        <div class="text-3xl mb-4">üì±</div>
                        <div class="text-white font-bold text-2xl leading-tight whitespace-pre-line">
                            ${img.text}
                        </div>
                    </div>
                </div>
            `;
        }

        function customizeImage(imageId) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-gray-800 rounded-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-white">${currentLanguage === 'ar' ? 'ÿ™ÿÆÿµŸäÿµ ÿßŸÑÿµŸàÿ±ÿ©' : currentLanguage === 'de' ? 'Bild Anpassen' : currentLanguage === 'fr' ? 'Personnaliser l\'Image' : 'Customize Image'}</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-white text-3xl">√ó</button>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <div id="image-preview" class="bg-gradient-to-br from-blue-600 to-purple-600 aspect-square rounded-xl flex items-center justify-center p-8 mb-4">
                                <div class="text-center">
                                    <div class="text-4xl mb-4">üì±</div>
                                    <div id="preview-text" class="text-white font-bold text-3xl leading-tight">
                                        ${t('whoAreYou')}
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-gray-300 mb-2 font-semibold">${currentLanguage === 'ar' ? 'ÿßŸÑŸÜÿµ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉ' : currentLanguage === 'de' ? 'Ihr Text' : currentLanguage === 'fr' ? 'Votre Texte' : 'Your Text'}</label>
                                <textarea id="custom-text" rows="4" class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none" placeholder="${currentLanguage === 'ar' ? 'ÿßŸÉÿ™ÿ® ŸÜÿµŸÉ ŸáŸÜÿß...' : currentLanguage === 'de' ? 'Schreiben Sie Ihren Text hier...' : currentLanguage === 'fr' ? '√âcrivez votre texte ici...' : 'Write your text here...'}">${t('whoAreYou')}</textarea>
                            </div>
                            
                            <div>
                                <label class="block text-gray-300 mb-2 font-semibold">${currentLanguage === 'ar' ? 'ÿßŸÑŸÜŸÖÿ∑' : currentLanguage === 'de' ? 'Stil' : currentLanguage === 'fr' ? 'Style' : 'Style'}</label>
                                <select id="image-style" class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg border border-gray-600">
                                    <option value="modern">${currentLanguage === 'ar' ? 'ÿ≠ÿØŸäÿ´ (ÿ£ÿ≤ÿ±ŸÇ-ÿ®ŸÜŸÅÿ≥ÿ¨Ÿä)' : currentLanguage === 'de' ? 'Modern (Blau-Lila)' : currentLanguage === 'fr' ? 'Moderne (Bleu-Violet)' : 'Modern (Blue-Purple)'}</option>
                                    <option value="minimal">${currentLanguage === 'ar' ? 'ÿ®  Ÿäÿ∑ (ÿ±ŸÖÿßÿØŸä)' : currentLanguage === 'de' ? 'Minimal (Grau)' : currentLanguage === 'fr' ? 'Minimal (Gris)' : 'Minimal (Gray)'}</option>
                                    <option value="bold">${currentLanguage === 'ar' ? 'ÿ¨ÿ±Ÿäÿ° (ÿ®ÿ±ÿ™ŸÇÿßŸÑŸä-ÿ£ÿ≠ŸÖÿ±)' : currentLanguage === 'de' ? 'Fett (Orange-Rot)' : currentLanguage === 'fr' ? 'Audacieux (Orange-Rouge)' : 'Bold (Orange-Red)'}</option>
                                    <option value="elegant">${currentLanguage === 'ar' ? 'ÿ£ŸÜŸäŸÇ (ÿ£ÿ≥ŸàÿØ-ÿ®ÿ±ÿ™ŸÇÿßŸÑŸä)' : currentLanguage === 'de' ? 'Elegant (Schwarz-Orange)' : currentLanguage === 'fr' ? '√âl√©gant (Noir-Orange)' : 'Elegant (Black-Orange)'}</option>
                                    <option value="vibrant">${currentLanguage === 'ar' ? 'ŸÜÿßÿ®ÿ∂ (Ÿàÿ±ÿØŸä-ÿ®  ŸÅÿ≥ÿ¨Ÿä)' : currentLanguage === 'de' ? 'Lebendig (Pink-Lila)' : currentLanguage === 'fr' ? 'Vibrant (Rose-Violet)' : 'Vibrant (Pink-Purple)'}</option>
                                    <option value="contrast">${currentLanguage === 'ar' ? 'ÿ™ÿ®ÿßŸäŸÜ (ÿ£ÿ≥ŸàÿØ-ÿ£ÿ®Ÿäÿ∂)' : currentLanguage === 'de' ? 'Kontrast (Schwarz-Wei√ü)' : currentLanguage === 'fr' ? 'Contraste (Noir-Blanc)' : 'Contrast (Black-White)'}</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-gray-300 mb-2 font-semibold">${currentLanguage === 'ar' ? 'ÿ≠ÿ¨ŸÖ ÿßŸÑÿÆ  ' : currentLanguage === 'de' ? 'Schriftgr√∂√üe' : currentLanguage === 'fr' ? 'Taille de Police' : 'Font Size'}</label>
                                <input type="range" id="font-size" min="20" max="50" value="30" class="w-full">
                            </div>
                            
                            <button onclick="updateImagePreview()" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-bold mb-2">
                                ${currentLanguage === 'ar' ? 'ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑŸÖÿπÿßŸäŸÜÿ© üîÑ' : currentLanguage === 'de' ? 'Vorschau Aktualisieren üîÑ' : currentLanguage === 'fr' ? 'Mettre √† Jour l\'Aper√ßu üîÑ' : 'Update Preview üîÑ'}
                            </button>
                            
                            <button onclick="downloadCustomImage()" class="w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 rounded-lg font-bold">
                                ${currentLanguage === 'ar' ? 'ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸàÿ±ÿ© üì•' : currentLanguage === 'de' ? 'Bild Herunterladen üì•' : currentLanguage === 'fr' ? 'T√©l√©charger l\'Image üì•' : 'Download Image üì•'}
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function openCustomImageCreator() {
            customizeImage(0);
        }

        function updateImagePreview() {
            const text = document.getElementById('custom-text').value;
            const style = document.getElementById('image-style').value;
            const fontSize = document.getElementById('font-size').value;
            
            const preview = document.getElementById('image-preview');
            const previewText = document.getElementById('preview-text');
            
            const styles = {
                modern: 'bg-gradient-to-br from-blue-600 to-purple-600',
                minimal: 'bg-gray-700',
                bold: 'bg-gradient-to-r from-orange-500 to-red-500',
                elegant: 'bg-gradient-to-br from-gray-800 to-gray-900 border-4 border-orange-500',
                vibrant: 'bg-gradient-to-br from-pink-500 via-purple-500 to-blue-500',
                contrast: 'bg-black border-4 border-white'
            };
            
            preview.className = `${styles[style]} aspect-square rounded-xl flex items-center justify-center p-8`;
            previewText.style.fontSize = `${fontSize}px`;
            previewText.innerHTML = text.replace(/\n/g, '<br>');
        }

        function downloadCustomImage() {
            showNotification(currentLanguage === 'ar' ? 'üéâ ÿ≥Ÿäÿ™ŸÖ ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿµŸàÿ±ÿ© ŸÇÿ±Ÿäÿ®ÿßŸã! (ŸÖŸäÿ≤ÿ© ŸÇŸäÿØ ÿßŸÑÿ™ÿ∑ŸàŸäÿ±)' : currentLanguage === 'de' ? 'üéâ Bild wird bald heruntergeladen! (Funktion in Entwicklung)' : currentLanguage === 'fr' ? 'üéâ Image bient√¥t t√©l√©charg√©e! (Fonctionnalit√© en d√©veloppement)' : 'üéâ Image will be downloaded soon! (Feature in development)');
        }

        function renderAboutPage() {
            const config = getConfig();
            return `
                <div class="bg-gray-900 min-h-screen py-12 px-4 fade-in">
                    <div class="container mx-auto max-w-4xl">
                        <h1 class="text-4xl md:text-5xl font-bold text-white mb-8 text-center">${t('aboutBook')}</h1>
                        
                        <div class="bg-gray-800 rounded-2xl p-8 mb-8">
                            <h2 class="text-3xl font-bold text-white mb-6">${t('whyThisBook')}</h2>
                            <div class="space-y-4 text-gray-300 text-lg">
                                <div class="flex items-start gap-3">
                                    <span class="text-green-400 text-2xl">‚úì</span>
                                    <div>
                                        <strong class="text-white">${t('notTheoretical')}</strong> - ${t('practicalApplications')}
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <span class="text-green-400 text-2xl">‚úì</span>
                                    <div>
                                        <strong class="text-white">${t('interactiveExperiences')}</strong> - ${t('learnByDoing')}
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <span class="text-green-400 text-2xl">‚úì</span>
                                    <div>
                                        <strong class="text-white">${t('completeJourney')}</strong> - ${t('fromValuesToApplication')}
                                    </div>
                                </div>
                                <div class="flex items-start gap-3">
                                    <span class="text-green-400 text-2xl">‚úì</span>
                                    <div>
                                        <strong class="text-white">${t('suitableDigitalAge')}</strong> - ${t('realisticSolutions')}
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-gradient-to-r from-blue-600 to-orange-600 rounded-2xl p-8 text-center">
                            <h2 class="text-3xl font-bold text-white mb-4">${t('readyToStart')}</h2>
                            <p class="text-blue-50 text-lg mb-6">${t('joinTransformation')}</p>
                            <button onclick="navigateTo('pricing')" class="bg-white text-blue-600 px-10 py-4 rounded-full font-bold text-lg hover:scale-105 transition-transform">
                                ${t('bookYourCopy')}      
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderDashboardPage() {
            const totalExperiments = 48;
            const completed = completedExperiments.length;
            const percentage = Math.round((completed / totalExperiments) * 100);

            return `
                <div class="bg-gray-900 min-h-screen py-12 px-4 fade-in">
                    <div class="container mx-auto max-w-6xl">
                        <h1 class="text-4xl md:text-5xl font-bold text-white mb-8 text-center">${t('personalDashboard')}</h1>
                        
                        <div class="grid md:grid-cols-3 gap-6 mb-12">
                            <div class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-6 text-white">
                                <div class="text-5xl mb-3">üéØ</div>
                                <div class="text-blue-100 text-sm mb-1">${t('totalExperiments')}</div>
                                <div class="text-4xl font-bold">${completed}/${totalExperiments}</div>
                            </div>
                            <div class="bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-6 text-white">
                                <div class="text-5xl mb-3">üìà</div>
                                <div class="text-orange-100 text-sm mb-1">${t('completionRate')}</div>
                                <div class="text-4xl font-bold progress-percentage">${percentage}%</div>
                            </div>
                            <div class="bg-gradient-to-br from-green-600 to-green-700 rounded-2xl p-6 text-white">
                                <div class="text-5xl mb-3">üèÜ</div>
                                <div class="text-green-100 text-sm mb-1">${t('achievements')}</div>
                                <div class="text-4xl font-bold">${Math.floor(percentage / 20)}/5</div>
                            </div>
                        </div>

                        <div class="bg-gray-800 rounded-2xl p-8 mb-8">
                            <h2 class="text-2xl font-bold text-white mb-6">${t('progressByParts')}</h2>
                            <div class="space-y-6">
                                ${bookStructure.parts.map(part => {
                                    const partCompleted = completedExperiments.filter(e => part.experiments.some(exp => exp.id === e.experiment_id)).length;
                                    const partPercentage = Math.round((partCompleted / part.experiments.length) * 100);
                                    return `
                                        <div>
                                            <div class="flex items-center justify-between mb-2">
                                                <div class="flex items-center gap-3">
                                                    <span class="text-3xl">${part.icon}</span>
                                                    <span class="text-white font-semibold">${part.title}</span>
                                                </div>
                                                <span class="text-gray-400">${partCompleted}/${part.experiments.length}</span>
                                            </div>
                                            <div class="bg-gray-700 rounded-full h-3 overflow-hidden">
                                                <div class="bg-gradient-to-${currentLanguage === 'ar' ? 'r' : 'l'} from-orange-500 to-blue-500 h-full transition-all" style="width: ${partPercentage}%"></div>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                        </div>

                        <div class="bg-gray-800 rounded-2xl p-8">
                            <h2 class="text-2xl font-bold text-white mb-6">${t('achievements')} üèÜ</h2>
                            <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                                ${[
                                    { icon: 'üåü', title: currentLanguage === 'ar' ? 'ÿßŸÑÿ®ÿØÿßŸäÿ©' : currentLanguage === 'de' ? 'Start' : currentLanguage === 'fr' ? 'D√©but' : 'Start', requirement: 5, achieved: completed >= 5 },
                                    { icon: 'üí™', title: currentLanguage === 'ar' ? 'ÿßŸÑŸÖŸÑÿ™ÿ≤ŸÖ' : currentLanguage === 'de' ? 'Engagiert' : currentLanguage === 'fr' ? 'Engag√©' : 'Committed', requirement: 12, achieved: completed >= 12 },
                                    { icon: 'üî•', title: currentLanguage === 'ar' ? 'ÿßŸÑŸÖÿ´ÿßÿ®ÿ±' : currentLanguage === 'de' ? 'Beharrlich' : currentLanguage === 'fr' ? 'Pers√©v√©rant' : 'Persistent', requirement: 24, achieved: completed >= 24 },
                                    { icon: 'üöÄ', title: currentLanguage === 'ar' ? 'ÿßŸÑŸÖÿ™ŸÇÿØŸÖ' : currentLanguage === 'de' ? 'Fortgeschritten' : currentLanguage === 'fr' ? 'Avanc√©' : 'Advanced', requirement: 36, achieved: completed >= 36 },
                                    { icon: 'üëë', title: currentLanguage === 'ar' ? 'ÿßŸÑŸÖÿ™ŸÖŸÉŸÜ' : currentLanguage === 'de' ? 'Meister' : currentLanguage === 'fr' ? 'Ma√Ætre' : 'Master', requirement: 48, achieved: completed >= 48 }
                                ].map(achievement => `
                                    <div class="bg-gray-900 rounded-xl p-6 text-center ${achievement.achieved ? 'border-2 border-orange-500' : 'opacity-50'}">
                                        <div class="text-4xl mb-2">${achievement.icon}</div>
                                        <div class="text-white font-bold text-sm mb-1">${achievement.title}</div>
                                        <div class="text-gray-400 text-xs">${achievement.requirement} ${currentLanguage === 'ar' ? 'ÿ™ÿ¨ÿ±ÿ®ÿ©' : currentLanguage === 'de' ? 'Experimente' : currentLanguage === 'fr' ? 'exp√©riences' : 'experiments'}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function getTypeLabel(type) {
            const labels = {
                ar: {
                    quiz: 'ÿßÿÆÿ™ÿ®ÿßÿ±',
                    calculator: 'ÿ≠ÿßÿ≥ÿ®ÿ©',
                    planner: 'ŸÖÿÆÿ∑ÿ∑',
                    journal: 'ÿ≥ÿ¨ŸÑ',
                    game: 'ŸÑÿπÿ®ÿ©',
                    tool: 'ÿ£ÿØÿßÿ©',
                    tracker: 'ŸÖÿ™ÿ™ÿ®ÿπ',
                    challenge: 'ÿ™ÿ≠ÿØŸä',
                    interactive: 'ÿ™ŸÅÿßÿπŸÑŸä',
                    comparison: 'ŸÖŸÇÿßÿ±ŸÜÿ©',
                    assessment: 'ÿ™ŸÇŸä   ŸÖ',
                    dashboard: 'ŸÑŸàÿ≠ÿ©',
                    reflection: 'ÿ™ÿ£ŸÖŸÑ'
                },
                en: {
                    quiz: 'Quiz',
                    calculator: 'Calculator',
                    planner: 'Planner',
                    journal: 'Journal',
                    game: 'Game',
                    tool: 'Tool',
                    tracker: 'Tracker',
                    challenge: 'Challenge',
                    interactive: 'Interactive',
                    comparison: 'Comparison',
                    assessment: 'Assessment',
                    dashboard: 'Dashboard',
                    reflection: 'Reflection'
                },
                fr: {
                    quiz: 'Quiz',
                    calculator: 'Calculatrice',
                    planner: 'Planificateur',
                    journal: 'Journal',
                    game: 'Jeu',
                    tool: 'Outil',
                    tracker: 'Suivi',
                    challenge: 'D√©fi',
                    interactive: 'Interactif',
                    comparison: 'Comparaison',
                    assessment: '√âvaluation',
                    dashboard: 'Tableau de bord',
                    reflection: 'R√©flexion'
                },
                de: {
                    quiz: 'Quiz',
                    calculator: 'Rechner',
                    planner: 'Planer',
                    journal: 'Tagebuch',
                    game: 'Spiel',
                    tool: 'Werkzeug',
                    tracker: 'Tracker',
                    challenge: 'Herausforderung',
                    interactive: 'Interaktiv',
                    comparison: 'Vergleich',
                    assessment: 'Bewertung',
                    dashboard: 'Dashboard',
                    reflection: 'Reflexion'
                }
            };
            return labels[currentLanguage][type] || labels['en'][type] || 'Experience';
        }

        function navigateTo(page, param = null) {
            currentPage = page;
            if (page === 'booking') {
                window.selectedPlan = param || 'digital';
            }
            render();
            window.scrollTo(0, 0);
        }

        async function openExperiment(experimentId) {
            let experiment = null;
            for (const part of bookStructure.parts) {
                const found = part.experiments.find(e => e.id === experimentId);
                if (found) {
                    experiment = found;
                    break;
                }
            }

            if (!experiment) return;

            const isCompleted = completedExperiments.some(e => e.experiment_id === experimentId);
            
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-gray-800 rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-3xl font-bold text-white">${t('experiment')} ${experimentId}: ${experiment.name}</h2>
                        <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-white text-2xl">√ó</button>
                    </div>
                    
                    <div class="bg-gray-900 rounded-xl p-6 mb-6">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="text-3xl">${getTypeIcon(experiment.type)}</span>
                            <div>
                                <div class="text-orange-400 text-sm font-bold">${getTypeLabel(experiment.type)}</div>
                                <p class="text-gray-300 text-lg">${experiment.name}</p>
                            </div>
                        </div>
                        
                        <div class="bg-gray-800 rounded-lg p-4 mb-4">
                            <h3 class="text-white font-bold mb-3 flex items-center gap-2">
                                <span>üìã</span> ${currentLanguage === 'ar' ? 'ŸàÿµŸÅ ÿßŸÑÿ™ÿ¨ÿ±ÿ®ÿ©' : currentLanguage === 'de' ? 'Experiment-Beschreibung' : currentLanguage === 'fr' ? 'Description de l\'Exp√©rience' : 'Experiment Description'}
                            </h3>
                            <p class="text-gray-300 leading-relaxed">
                                ${getExperimentDescription(experimentId)}
                            </p>
                        </div>

                        <div class="bg-gray-800 rounded-lg p-4 mb-4">
                            <h3 class="text-white font-bold mb-3 flex items-center gap-2">
                                <span>üéØ</span> ${currentLanguage === 'ar' ? 'ÿßŸÑŸáÿØŸÅ     ŸÜ ÿßŸÑÿ™ÿ¨ÿ±ÿ®ÿ©' : currentLanguage === 'de' ? 'Experiment-Ziel' : currentLanguage === 'fr' ? 'Objectif de l\'Exp√©rience' : 'Experiment Goal'}
                            </h3>
                            <p class="text-gray-300 leading-relaxed">
                                ${getExperimentGoal(experimentId)}
                            </p>
                        </div>

                        <div class="bg-gray-800 rounded-lg p-4 mb-4">
                            <h3 class="text-white font-bold mb-3 flex items-center gap-2">
                                <span>‚è±Ô∏è</span> ${currentLanguage === 'ar' ? 'ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖÿ™ŸàŸÇÿπ' : currentLanguage === 'de' ? 'Erwartete Zeit' : currentLanguage === 'fr' ? 'Temps Estim√©' : 'Expected Time'}
                            </h3>
                            <p class="text-gray-300">
                                ${getExperimentDuration(experiment.type)}
                            </p>
                        </div>

                        <div class="bg-blue-900 bg-opacity-30 border border-blue-500 rounded-lg p-4">
                            <p class="text-blue-200 text-sm">
                                üí° <strong>${currentLanguage === 'ar' ? 'ŸÜÿµŸäÿ≠ÿ©:' : currentLanguage === 'de' ? 'Tipp:' : currentLanguage === 'fr' ? 'Conseil:' : 'Tip:'}</strong> ${currentLanguage === 'ar' ? 'ÿÆÿµÿµ ŸàŸÇÿ™ÿßŸã ŸáÿßÿØÿ¶ÿßŸã ŸÑÿ•ŸÉŸÖÿßŸÑ Ÿáÿ∞Ÿá ÿßŸÑÿ™ÿ¨ÿ±ÿ®ÿ© ÿ®ÿ™ÿ±ŸÉŸäÿ≤ ŸÉÿßŸÖŸÑ ŸÑŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ£ŸÅÿ∂ŸÑ ÿßŸÑŸÜÿ™ÿßÿ¶ÿ¨.' : currentLanguage === 'de' ? 'Nehmen Sie sich ruhige Zeit, um dieses Experiment mit voller Konzentration abzuschlie√üen, um die besten Ergebnisse zu erzielen.' : currentLanguage === 'fr' ? 'Prenez le temps calme pour terminer cette exp√©rience avec une concentration totale pour obtenir les meilleurs r√©sultats.' : 'Take quiet time to complete this experiment with full focus for best results.'}
                            </p>
                        </div>
                    </div>

                    ${!isCompleted ? `
                        <button onclick="completeExperiment(${experimentId})" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white py-4 rounded-xl font-bold text-lg transition-all">
                            ${currentLanguage === 'ar' ? 'ÿ•ÿ™ŸÖÿßŸÖ ÿßŸÑÿ™ÿ¨ÿ±ÿ®ÿ© ‚úì' : currentLanguage === 'de' ? 'Experiment Abschlie√üen ‚úì' : currentLanguage === 'fr' ? 'Terminer l\'Exp√©rience ‚úì' : 'Complete Experiment ‚úì'}
                        </button>
                    ` : `
                        <div class="bg-green-900 bg-opacity-30 border-2 border-green-500 rounded-xl p-4 text-center">
                            <span class="text-green-400 text-xl font-bold">‚úì ${currentLanguage === 'ar' ? 'ÿ™ŸÖ ÿ•ŸÉŸÖÿß   Ÿáÿ∞Ÿá ÿßŸÑÿ™ÿ¨ÿ±ÿ®ÿ©' : currentLanguage === 'de' ? 'Dieses Experiment wurde abgeschlossen' : currentLanguage === 'fr' ? 'Cette exp√©rience a √©t√© termin√©e' : 'This experiment has been completed'}</span>
                        </div>
                    `}
                </div>
            `;
            
            document.body.appendChild(modal);
        }

        async function completeExperiment(experimentId) {
            if (completedExperiments.length >= 999) {
                showNotification(currentLanguage === 'ar' ? '‚ö†Ô∏è ÿ™ŸÖ ÿßŸÑŸàÿµŸàŸÑ ŸÑŸÑÿ≠ÿØ ÿßŸÑÿ£ŸÇÿµŸâ (999 ÿ™ÿ¨ÿ±ÿ®ÿ©)' : currentLanguage === 'de' ? '‚ö†Ô∏è Maximallimit erreicht (999 Experimente)' : currentLanguage === 'fr' ? '‚ö†Ô∏è Limite maximale atteinte (999 exp√©riences)' : '‚ö†Ô∏è Maximum limit reached (999 experiments)', 'error');
                return;
            }

            const experimentData = {
                id: `exp_${experimentId}_${Date.now()}`,
                type: 'experiment_completion',
                experiment_id: experimentId,
                experiment_name: getExperimentName(experimentId),
                completed: true,
                data: JSON.stringify({ completed_at: new Date().toISOString() }),
                created_at: new Date().toISOString()
            };

            const result = await window.dataSdk.create(experimentData);
            
            if (result.isOk) {
                const modal = document.querySelector('.fixed');
                if (modal) modal.remove();
                showNotification(currentLanguage === 'ar' ? 'üéâ ÿ±ÿßÿ¶ÿπ! ÿ™ŸÖ ÿ•ŸÉŸÖÿßŸÑ ÿßŸÑÿ™ÿ¨ÿ±ÿ®ÿ© ÿ®ŸÜÿ¨ÿßÿ≠' : currentLanguage === 'de' ? 'üéâ Gro√üartig! Experiment erfolgreich abgeschlossen' : currentLanguage === 'fr' ? 'üéâ G√©nial! Exp√©rience termin√©e avec succ√®s' : 'üéâ Great! Experiment completed successfully');
            } else {
                showNotification(currentLanguage === 'ar' ? '‚ùå ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ÿå ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ' : currentLanguage === 'de' ? '‚ùå Ein Fehler ist aufgetreten, versuchen Sie es erneut' : currentLanguage === 'fr' ? '‚ùå Une erreur s\'est produite, r√©essayez' : '‚ùå An error occurred, try again', 'error');
            }
        }

        function getExperimentName(experimentId) {
            for (const part of bookStructure.parts) {
                const exp = part.experiments.find(e => e.id === experimentId);
                if (exp) return exp.name;
            }
            return `${currentLanguage === 'ar' ? 'ÿ™ÿ¨ÿ±ÿ®ÿ©' : currentLanguage === 'de' ? 'Experiment' : currentLanguage === 'fr' ? 'Exp√©rience' : 'Experiment'} ${experimentId}`;
        }

        function getTypeIcon(type) {
            const icons = {
                quiz: 'üìù',
                calculator: 'üßÆ',
                planner: 'üìÖ',
                journal: 'üìî',
                game: 'üéÆ',
                tool: 'üîß',
                tracker: 'üìä',
                challenge: '‚ö°',
                interactive: '‚ú®',
                comparison: '   Ô∏è',
                assessment: 'üìà',
                dashboard: 'üìä',
                reflection: 'ü§î'
            };
            return icons[type] || '‚ú®';
        }

        function getExperimentDescription(experimentId) {
            const descriptions = {
                1: currentLanguage === 'ar' ? "ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ™ŸÅÿßÿπŸÑŸäÿ© ÿπŸÖŸäŸÇÿ© ŸÑÿßŸÉÿ™ÿ¥ÿßŸÅ ÿßŸÑŸÇŸäŸÖ ÿßŸÑÿÆŸÖÿ≥ ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ© ÿßŸÑÿ™Ÿä ÿ™ÿ≠ÿØÿØ ŸáŸàŸäÿ™ŸÉ ÿßŸÑÿ≠ŸÇŸäŸÇŸäÿ© Ÿàÿ™Ÿàÿ¨Ÿá ŸÇÿ±ÿßÿ±ÿßÿ™ŸÉ ŸÅŸä ÿßŸÑÿ≠Ÿäÿßÿ©." : currentLanguage === 'de' ? "Ein tiefgreifendes interaktives Experiment zur Entdeckung der f√ºnf Grundwerte, die Ihre wahre Identit√§t definieren und Ihre Lebensentscheidungen leiten." : currentLanguage === 'fr' ? "Une exp√©rience interactive approfondie pour d√©couvrir les cinq valeurs fondamentales qui d√©finissent votre v√©ritable identit√© et guident vos d√©cisions de vie." : "A deep interactive experiment to discover the five core values that define your true identity and guide your life decisions."
            };
            return descriptions[experimentId] || (currentLanguage === 'ar' ? "ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ™ŸÅÿßÿπŸÑŸäÿ© ŸÖÿµŸÖŸÖÿ© ŸÑŸÖÿ≥ÿßÿπ  ÿ™ŸÉ ŸÅŸä ÿ±ÿ≠ŸÑÿ© ÿßŸÑÿ™ÿ≠ŸàŸÑ ÿßŸÑÿ±ŸÇŸÖŸä." : currentLanguage === 'de' ? "Ein interaktives Experiment, das Ihnen auf Ihrer digitalen Transformationsreise hilft." : currentLanguage === 'fr' ? "Une exp√©rience interactive con√ßue pour vous aider dans votre parcours de transformation num√©rique." : "An interactive experiment designed to help you on your digital transformation journey.");
        }

        function getExperimentGoal(experimentId) {
            if (experimentId <= 8) return currentLanguage === 'ar' ? "ÿ®ŸÜÿßÿ° ÿ£ÿ≥ÿßÿ≥ ŸÇŸàŸä ŸÖŸÜ ÿßŸÑŸÇŸäŸÖ ÿßŸÑÿ¥ÿÆÿµŸäÿ© ÿßŸÑÿ™Ÿä ÿ™Ÿàÿ¨Ÿá ÿ≠Ÿäÿßÿ™ŸÉ." : currentLanguage === 'de' ? "Aufbau einer starken Grundlage pers√∂nlicher Werte, die Ihr Leben leiten." : currentLanguage === 'fr' ? "Construire une base solide de valeurs personnelles qui guident votre vie." : "Build a strong foundation of personal values that guide your life.";
            if (experimentId <= 14) return currentLanguage === 'ar' ? "ÿ™ÿ≠ŸàŸäŸÑ ÿ£ÿ≠ŸÑÿßŸÖŸÉ ÿ•ŸÑŸâ ÿ£ŸáÿØÿßŸÅ Ÿàÿßÿ∂ÿ≠ÿ© ŸàŸÇÿßÿ®ŸÑÿ© ŸÑŸÑÿ™ÿ≠ŸÇŸäŸÇ." : currentLanguage === 'de' ? "Verwandeln Sie Ihre Tr√§ume in klare und erreichbare Ziele." : currentLanguage === 'fr' ? "Transformez vos r√™ves en objectifs clairs et r√©alisables." : "Transform your dreams into clear and achievable goals.";
            if (experimentId <= 23) return currentLanguage === 'ar' ? "ÿ™ÿ≠ŸÇŸäŸÇ ÿßŸÑÿ™Ÿàÿßÿ≤ŸÜ ÿß  ÿµÿ≠Ÿä ÿ®ŸäŸÜ ÿßŸÑÿ≠Ÿäÿßÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ© ŸàÿßŸÑŸàÿßŸÇÿπŸäÿ©." : currentLanguage === 'de' ? "Erreichen Sie ein gesundes Gleichgewicht zwischen digitalem und realem Leben." : currentLanguage === 'fr' ? "Atteindre un √©quilibre sain entre vie num√©rique et vie r√©elle." : "Achieve a healthy balance between digital and real life.";
            if (experimentId <= 35) return currentLanguage === 'ar' ? "ÿ™ÿ∑ÿ®ŸäŸÇ ÿßŸÑŸÖÿ®ÿßÿØÿ¶ ÿπŸÖŸÑŸäÿßŸã ŸÅŸä ÿ≠Ÿäÿßÿ™ŸÉ ÿßŸÑŸäŸàŸÖŸäÿ© ÿßŸÑÿ±ŸÇŸÖŸäÿ©." : currentLanguage === 'de' ? "Wenden Sie Prinzipien praktisch in Ihrem digitalen Alltag an." : currentLanguage === 'fr' ? "Appliquez les principes pratiquement dans votre vie num√©rique quotidienne." : "Apply principles practically in your digital daily life.";
            return currentLanguage === 'ar' ? "ÿ™ÿ≠ŸÇŸäŸÇ ÿßŸÑÿ™ÿ≠ŸàŸÑ ÿßŸÑÿ¥ÿßŸÖŸÑ ŸàÿßŸÑÿßÿ≥ÿ™ÿØÿßŸÖÿ© ŸÅŸä ÿ≠Ÿäÿßÿ™ŸÉ ÿßŸÑÿ±ŸÇŸÖŸäÿ©." : currentLanguage === 'de' ? "Erreichen Sie umfassende Transformation und Nachhaltigkeit in Ihrem digitalen Leben." : currentLanguage === 'fr' ? "Atteignez une transformation compl√®te et la durabilit√© dans votre vie num√©rique." : "Achieve comprehensive transformation and sustainability in your digital life.";
        }

        function getExperimentDuration(type) {
            const durations = {
                ar: {
                    quiz: "10-15 ÿØŸÇŸäŸÇÿ©",
                    calculator: "5-10 ÿØŸÇÿßÿ¶ŸÇ",
                    planner: "20-30 ÿØŸÇŸäŸÇÿ©",
                    journal: "15-20 ÿØŸÇŸäŸÇÿ© ŸäŸàŸÖŸäÿßŸã",
                    game: "15-25 ÿØŸÇŸäŸÇÿ©",
                    tool: "10-20 ÿØŸÇŸäŸÇÿ©",
                    tracker: "5 ÿØŸÇÿßÿ¶ŸÇ ŸäŸàŸÖŸäÿßŸã",
                    challenge: "1-7 ÿ£ŸäÿßŸÖ",
                    interactive: "15-30 ÿØŸÇŸäŸÇÿ©",
                    comparison: "10-15 ÿØŸÇŸäŸÇÿ©",
                    assessment: "10-20 ÿØŸÇŸäŸÇÿ©",
                    dashboard: "5-10 ÿØŸÇÿßÿ¶ŸÇ",
                    reflection: "20-40 ÿØŸÇŸäŸÇÿ©"
                },
                en: {
                    quiz: "10-15 minutes",
                    calculator: "5-10 minutes",
                    planner: "20-30 minutes",
                    journal: "15-20 minutes daily",
                    game: "15-25 minutes",
                    tool: "10-20 minutes",
                    tracker: "5 minutes daily",
                    challenge: "1-7 days",
                    interactive: "15-30 minutes",
                    comparison: "10-15 minutes",
                    assessment: "10-20 minutes",
                    dashboard: "5-10 minutes",
                    reflection: "20-40 minutes"
                },
                fr: {
                    quiz: "10-15 minutes",
                    calculator: "5-10 minutes",
                    planner: "20-30 minutes",
                    journal: "15-20 minutes par jour",
                    game: "15-25 minutes",
                    tool: "10-20 minutes",
                    tracker: "5 minutes par jour",
                    challenge: "1-7 jours",
                    interactive: "15-30 minutes",
                    comparison: "10-15 minutes",
                    assessment: "10-20 minutes",
                    dashboard: "5-10 minutes",
                    reflection: "20-40 minutes"
                },
                de: {
                    quiz: "10-15 Minuten",
                    calculator: "5-10 Minuten",
                    planner: "20-30 Minuten",
                    journal: "15-20 Minuten t√§glich",
                    game: "15-25 Minuten",
                    tool: "10-20 Minuten",
                    tracker: "5 Minuten t√§glich",
                    challenge: "1-7 Tage",
                    interactive: "15-30 Minuten",
                    comparison: "10-15 Minuten",
                    assessment: "10-20 Minuten",
                    dashboard: "5-10 Minuten",
                    reflection: "20-40 Minuten"
                }
            };
            return durations[currentLanguage][type] || durations['en'][type] || "15-20 minutes";
        }

        function showNotification(message, type = 'success') {
            const notification = document.createElement('div');
            notification.className = `fixed top-24 left-1/2 transform -translate-x-1/2 ${type === 'success' ? 'bg-green-500' : 'bg-red-500'} text-white px-8 py-4 rounded-full shadow-2xl z-50 font-bold text-lg`;
            notification.textContent = message;
            notification.style.animation = 'fadeIn 0.3s ease-in';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'fadeOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        function render() {
            const app = document.getElementById('app');
            let content = '';

            switch(currentPage) {
                case 'home':
                    content = renderHomePage();
                    break;
                case 'lab':
                    content = renderLabPage();
                    break;
                case 'about':
                    content = renderAboutPage();
                    break;
                case 'dashboard':
                    content = renderDashboardPage();
                    break;
                case 'pricing':
                    content = renderPricingPage();
                    break;
                case 'booking':
                    content = renderBookingPage(window.selectedPlan);
                    break;
                case 'images':
                    content = renderImagesPage();
                    break;
                default:
                    content = renderHomePage();
            }

            app.innerHTML = renderNavbar() + content;
            
            const bookingForm = document.getElementById('booking-form');
            if (bookingForm) {
                bookingForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    await handleBookingSubmit(e);
                });
            }
        }

        async function handleBookingSubmit(e) {
            const bookingData = {
                id: `booking_${Date.now()}`,
                type: 'booking',
                full_name: document.getElementById('full-name').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                country: document.getElementById('country').value,
                plan: document.getElementById('plan').value,
                address: document.getElementById('address')?.value || '',
                currency: currentCurrency,
                created_at: new Date().toISOString()
            };

            const submitButton = e.target.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            submitButton.textContent = currentLanguage === 'ar' ? 'ÿ¨ÿßÿ±Ÿä ÿßŸÑŸÖÿπÿßŸÑÿ¨ÿ©...' : currentLanguage === 'de' ? 'Wird verarbeitet...' : currentLanguage === 'fr' ? 'Traitement en cours...' : 'Processing...';

            const result = await window.dataSdk.create(bookingData);
            
            if (result.isOk) {
                showNotification(currentLanguage === 'ar' ? 'üéâ ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ®ŸÉ ÿ®ŸÜÿ¨ÿßÿ≠! ÿ≥ŸÜÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÉ ŸÇÿ±Ÿäÿ®ÿßŸã' : currentLanguage === 'de' ? 'üéâ Ihre Anfrage wurde erfolgreich gesendet! Wir werden uns bald bei Ihnen melden' : currentLanguage === 'fr' ? 'üéâ Votre demande a √©t√© envoy√©e avec succ√®s! Nous vous contacterons bient√¥t' : 'üéâ Your request has been sent successfully! We will contact you soon');
                e.target.reset();
                setTimeout(() => {
                    navigateTo('dashboard');
                }, 2000);
            } else {
                showNotification(currentLanguage === 'ar' ? '‚ùå ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ÿå ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ' : currentLanguage === 'de' ? '‚ùå Ein Fehler ist aufgetreten, versuchen Sie es erneut' : currentLanguage === 'fr' ? '‚ùå Une erreur s\'est produite, r√©essayez' : '‚ùå An error occurred, try again', 'error');
                submitButton.disabled = false;
                submitButton.textContent = t('completeBooking');
            }
        }

        initApp();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9ad89663a4099bf8',t:'MTc2NTY2MTY4Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>